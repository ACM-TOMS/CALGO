<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_18) on Mon Apr 12 15:42:00 EDT 2010 -->
<TITLE>
CompressingCircularBuffer
</TITLE>

<META NAME="date" CONTENT="2010-04-12">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CompressingCircularBuffer";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../com/googlecode/compressingcircularbuffers/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/CompressingCircularBuffer.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/googlecode/compressingcircularbuffers/AveragingCompressionMethod.html" title="class in com.googlecode.compressingcircularbuffers"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBufferTester.html" title="class in com.googlecode.compressingcircularbuffers"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CompressingCircularBuffer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.googlecode.compressingcircularbuffers</FONT>
<BR>
Class CompressingCircularBuffer</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>com.googlecode.compressingcircularbuffers.CompressingCircularBuffer</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>CompressingCircularBuffer</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Maintains a compressed, fixed-memory-footprint, "sketch" (summary) of
 a sampled data sequence. The compressed sequence is formed by
 applying a specified compression method to a series of approximately
 equal sized contiguous sequential chunks of the original sequence.
 <p>

 For example, with the default, <tt>AveragingCompressionMethod</tt>,
 sequential raw data samples (fed in via the <tt>update</tt> method)
 are averaged together in approximately equal sized contiguous chunks
 to form the compressed sequence. As new data comes in, those chunks
 expand in size (with associated averages adjusted accordingly) so
 that a buffer of the specified size can still contain a compressed
 form of the growing sequence.  <p>

 In general, these chunk sizes will either <tt>2<sup>k</sup></tt> or
 <tt>2<sup>k+1</sup></tt>, where <tt>k</tt> is chosen so that the aggregated
 samples fill up the available buffer space (<tt>k</tt> starts at zero
 and increases as more samples come in and the buffer becomes full at
 the current compression level). Chunks at the beginning or at the end of
 the sequence use the larger aggregation interval, with the smaller
 interval used in the middle. You can use the methods
 <tt>getFirstSampleIndex</tt> and <tt>getLastSampleIndex</tt> to
 determine the number of samples aggregated into any specific
 compressed value.  <p>
 
 Performance is very similar to that of an ordinary circular buffer:
 The algorithm updates the compressed sequence in <i>at most</i> one
 read from, and two writes to, its internal buffer per update.  Thus
 it is appropriate for use when update times must be very predictable,
 since there is never any 'stalling' as large chunks of memory are
 reorganized to reflect a change in compression level.  For example,
 if 'memory' were a large file on a hard disk, the algorithm could
 still have acceptable worst case update times (a couple of seeks/writes
 per update). As with ordinary circular buffers, it is also close to
 optimal in memory use: all buffer elements are filled with useful
 data.  <p>
 
 This class uses an indexing scheme that exploits basic properties of
 modular arithmetic to quickly locate exactly those positions
 containing the 'compressed away' data that are available to store the
 new data. That's why it's more efficient than more straightforward
 approaches. In the associated paper "Compressing Circular Buffers" I
 explain this indexing scheme more completely.  <p>
 
 Copyright, 2010, John C. Gunther. All rights reserved.  Released under the
 terms of the Apache 2.0 licence.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#DEFAULT_MAX_COMPRESSION_RATIO">DEFAULT_MAX_COMPRESSION_RATIO</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default upper bound on compression ratio if none is specified in
 constructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#MAX_ALLOWED_UPDATES">MAX_ALLOWED_UPDATES</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Upper bound on maximum number of updates that can be performed
 without a reset.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#NOSUCHINDEX">NOSUCHINDEX</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compressed element index returned when no compressed element
 matching given criteria is available.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#CompressingCircularBuffer()">CompressingCircularBuffer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new compressing circular buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#CompressingCircularBuffer(int)">CompressingCircularBuffer</A></B>(int&nbsp;nElements)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new compressing circular buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#CompressingCircularBuffer(int, com.googlecode.compressingcircularbuffers.CompressionMethod)">CompressingCircularBuffer</A></B>(int&nbsp;nElements,
                          <A HREF="../../../com/googlecode/compressingcircularbuffers/CompressionMethod.html" title="interface in com.googlecode.compressingcircularbuffers">CompressionMethod</A>&nbsp;compressionMethod)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new compressing circular buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#CompressingCircularBuffer(int, com.googlecode.compressingcircularbuffers.CompressionMethod, int)">CompressingCircularBuffer</A></B>(int&nbsp;nElements,
                          <A HREF="../../../com/googlecode/compressingcircularbuffers/CompressionMethod.html" title="interface in com.googlecode.compressingcircularbuffers">CompressionMethod</A>&nbsp;compressionMethod,
                          int&nbsp;minCompressionRatio)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new compressing circular buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#CompressingCircularBuffer(int, com.googlecode.compressingcircularbuffers.CompressionMethod, int, int)">CompressingCircularBuffer</A></B>(int&nbsp;nElements,
                          <A HREF="../../../com/googlecode/compressingcircularbuffers/CompressionMethod.html" title="interface in com.googlecode.compressingcircularbuffers">CompressionMethod</A>&nbsp;compressionMethod,
                          int&nbsp;minCompressionRatio,
                          int&nbsp;maxCompressionRatio)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new compressing circular buffer.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#getCompressedIndex(int)">getCompressedIndex</A></B>(int&nbsp;iRawDataSample)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves the index of the compressed value whose aggregation
 interval includes the given raw data sample.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#getCompressedValue(int)">getCompressedValue</A></B>(int&nbsp;iCompressed)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves compressed value associated with given index.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#getCompressionRatio()">getCompressionRatio</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves the number of points that will be included in the next
 new compressed value that will be formed from samples fed in
 via the <tt>update</tt> method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#getFirstSampleIndex(int)">getFirstSampleIndex</A></B>(int&nbsp;iCompressed)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves the index of the first uncompressed sequence value included in the
 specified compressed value; uncompressed sequence indexes start at 0.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#getIncompleteCompressedValue()">getIncompleteCompressedValue</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves the "in progress", or incomplete compressed value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#getLastSampleIndex(int)">getLastSampleIndex</A></B>(int&nbsp;iCompressed)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves the index of the last uncompressed sequence value incorporated into the
 specified compressed value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#getNCompressed()">getNCompressed</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves the number of compressed values within the circular
 buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#getNCompressedSamples()">getNCompressedSamples</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves the number of samples fed to the circular buffer that
 have been incorporated into the compressed sequence.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#getNSamples()">getNSamples</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves the number of samples fed to the circular buffer so far.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#reset()">reset</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the compressing circular buffer to it's initial state,
 discarding all previously seen data.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#update(double)">update</A></B>(double&nbsp;sample)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates the compressed representation of the sequence to include a newly
 collected data value (sequence element).</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="MAX_ALLOWED_UPDATES"><!-- --></A><H3>
MAX_ALLOWED_UPDATES</H3>
<PRE>
public static final int <B>MAX_ALLOWED_UPDATES</B></PRE>
<DL>
<DD>Upper bound on maximum number of updates that can be performed
 without a reset. This bound arises because integer related indexing
 calculations must remain in the valid range for integers.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#com.googlecode.compressingcircularbuffers.CompressingCircularBuffer.MAX_ALLOWED_UPDATES">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="NOSUCHINDEX"><!-- --></A><H3>
NOSUCHINDEX</H3>
<PRE>
public static final int <B>NOSUCHINDEX</B></PRE>
<DL>
<DD>Compressed element index returned when no compressed element
 matching given criteria is available.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#com.googlecode.compressingcircularbuffers.CompressingCircularBuffer.NOSUCHINDEX">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="DEFAULT_MAX_COMPRESSION_RATIO"><!-- --></A><H3>
DEFAULT_MAX_COMPRESSION_RATIO</H3>
<PRE>
public static final int <B>DEFAULT_MAX_COMPRESSION_RATIO</B></PRE>
<DL>
<DD>Default upper bound on compression ratio if none is specified in
 constructor.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#com.googlecode.compressingcircularbuffers.CompressingCircularBuffer.DEFAULT_MAX_COMPRESSION_RATIO">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CompressingCircularBuffer(int, com.googlecode.compressingcircularbuffers.CompressionMethod, int, int)"><!-- --></A><H3>
CompressingCircularBuffer</H3>
<PRE>
public <B>CompressingCircularBuffer</B>(int&nbsp;nElements,
                                 <A HREF="../../../com/googlecode/compressingcircularbuffers/CompressionMethod.html" title="interface in com.googlecode.compressingcircularbuffers">CompressionMethod</A>&nbsp;compressionMethod,
                                 int&nbsp;minCompressionRatio,
                                 int&nbsp;maxCompressionRatio)</PRE>
<DL>
<DD>Creates a new compressing circular buffer.
 <p>
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>nElements</CODE> - number of compressed elements used to represent
 sequence. Must be an odd integer and at least 1. Default is 1.<DD><CODE>compressionMethod</CODE> - how compression will be performed. Use
 an instance of one of the predefined compression methods (<tt>ThinningCompressionMethod,
 AveragingCompressionMethod, SummingCompressionMethod, MinimizingCompresionMethod,
 MaximizingCompressionMethod, or RandomSamplingCompressionMethod</tt>) or else
 create your own by implementing the <tt>CompressionMethod</tt> interface.
 Default is <tt>new AveragingCompressionMethod()</tt>.<DD><CODE>minCompressionRatio</CODE> - minimum number of data points
 contained in any compressed value. Default is 1.<DD><CODE>maxCompressionRatio</CODE> - maximum number of data points in any
 compressed value. Must be <tt>&ge; minCompressionRatio</tt>.  Note
 that compressed values always contain a number of points equal to
 <tt>minCompressionRatio*2<sup>k</sup></tt> with <tt>k</tt> a non-negative integer.
 Thus actual maximum is the largest integer of this form that does
 not exceed the <tt>maxCompressionRatio</tt> that you specify. Once this
 limit is reached, the sequence will behave like an ordinary
 circular buffer (wrapping around and overwriting the oldest
 compressed value). Default is <tt>DEFAULT_MAX_COMPRESSION_RATIO</tt>.<DT><B>See Also:</B><DD><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#DEFAULT_MAX_COMPRESSION_RATIO"><CODE>DEFAULT_MAX_COMPRESSION_RATIO</CODE></A>, 
<A HREF="../../../com/googlecode/compressingcircularbuffers/ThinningCompressionMethod.html" title="class in com.googlecode.compressingcircularbuffers"><CODE>ThinningCompressionMethod</CODE></A>, 
<A HREF="../../../com/googlecode/compressingcircularbuffers/AveragingCompressionMethod.html" title="class in com.googlecode.compressingcircularbuffers"><CODE>AveragingCompressionMethod</CODE></A>, 
<A HREF="../../../com/googlecode/compressingcircularbuffers/SummingCompressionMethod.html" title="class in com.googlecode.compressingcircularbuffers"><CODE>SummingCompressionMethod</CODE></A>, 
<A HREF="../../../com/googlecode/compressingcircularbuffers/MinimizingCompressionMethod.html" title="class in com.googlecode.compressingcircularbuffers"><CODE>MinimizingCompressionMethod</CODE></A>, 
<A HREF="../../../com/googlecode/compressingcircularbuffers/MaximizingCompressionMethod.html" title="class in com.googlecode.compressingcircularbuffers"><CODE>MaximizingCompressionMethod</CODE></A>, 
<A HREF="../../../com/googlecode/compressingcircularbuffers/RandomSamplingCompressionMethod.html" title="class in com.googlecode.compressingcircularbuffers"><CODE>RandomSamplingCompressionMethod</CODE></A></DL>
</DL>
<HR>

<A NAME="CompressingCircularBuffer(int, com.googlecode.compressingcircularbuffers.CompressionMethod, int)"><!-- --></A><H3>
CompressingCircularBuffer</H3>
<PRE>
public <B>CompressingCircularBuffer</B>(int&nbsp;nElements,
                                 <A HREF="../../../com/googlecode/compressingcircularbuffers/CompressionMethod.html" title="interface in com.googlecode.compressingcircularbuffers">CompressionMethod</A>&nbsp;compressionMethod,
                                 int&nbsp;minCompressionRatio)</PRE>
<DL>
<DD>Creates a new compressing circular buffer.
 <p>
 
 Convenience constructor. Same as:

 <pre> 
 CompressingCircularBuffer(nElements, compressionMethod,
                           minCompressionRatio, DEFAULT_MAX_COMPRESSION_RATIO)
 </pre>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#CompressingCircularBuffer(int, com.googlecode.compressingcircularbuffers.CompressionMethod, int, int)"><CODE>CompressingCircularBuffer(int, CompressionMethod, int, int)</CODE></A></DL>
</DL>
<HR>

<A NAME="CompressingCircularBuffer(int, com.googlecode.compressingcircularbuffers.CompressionMethod)"><!-- --></A><H3>
CompressingCircularBuffer</H3>
<PRE>
public <B>CompressingCircularBuffer</B>(int&nbsp;nElements,
                                 <A HREF="../../../com/googlecode/compressingcircularbuffers/CompressionMethod.html" title="interface in com.googlecode.compressingcircularbuffers">CompressionMethod</A>&nbsp;compressionMethod)</PRE>
<DL>
<DD>Creates a new compressing circular buffer.
 <p>
 
 Convenience constructor. Same as:

 <pre> 
 CompressingCircularBuffer(nElements, compressionMethod,
                           1, DEFAULT_MAX_COMPRESSION_RATIO)
 </pre>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#CompressingCircularBuffer(int, com.googlecode.compressingcircularbuffers.CompressionMethod, int, int)"><CODE>CompressingCircularBuffer(int, CompressionMethod, int, int)</CODE></A></DL>
</DL>
<HR>

<A NAME="CompressingCircularBuffer(int)"><!-- --></A><H3>
CompressingCircularBuffer</H3>
<PRE>
public <B>CompressingCircularBuffer</B>(int&nbsp;nElements)</PRE>
<DL>
<DD>Creates a new compressing circular buffer.
 <p>
 
 Convenience constructor. Same as:

 <pre> 
 CompressingCircularBuffer(nElements, new AveragingCompressionMethod(),
                           1, DEFAULT_MAX_COMPRESSION_RATIO)
 </pre>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#CompressingCircularBuffer(int, com.googlecode.compressingcircularbuffers.CompressionMethod, int, int)"><CODE>CompressingCircularBuffer(int, CompressionMethod, int, int)</CODE></A></DL>
</DL>
<HR>

<A NAME="CompressingCircularBuffer()"><!-- --></A><H3>
CompressingCircularBuffer</H3>
<PRE>
public <B>CompressingCircularBuffer</B>()</PRE>
<DL>
<DD>Creates a new compressing circular buffer.
 <p>
 
 Convenience constructor. Same as:

 <pre> 
 CompressingCircularBuffer(1, new AveragingCompressionMethod(),
                           1, DEFAULT_MAX_COMPRESSION_RATIO)
 </pre>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#CompressingCircularBuffer(int, com.googlecode.compressingcircularbuffers.CompressionMethod, int, int)"><CODE>CompressingCircularBuffer(int, CompressionMethod, int, int)</CODE></A></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="update(double)"><!-- --></A><H3>
update</H3>
<PRE>
public void <B>update</B>(double&nbsp;sample)</PRE>
<DL>
<DD>Updates the compressed representation of the sequence to include a newly
 collected data value (sequence element). 
 <p>
 
 For example, if you were sampling an on-line sensor once per minute,
 you might call update every minute, feeding in each newly sampled
 value. In that case, the compressing circular buffer would maintain
 an up-to-date compressed "sketch" of the entire sequence; that sketch
 would fit into the number of buffer elements that you specified in
 the compressing circular buffer's constructor.  <p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sample</CODE> - next value of a sampled sequence to be incorporated into the compressed representation.</DL>
</DD>
</DL>
<HR>

<A NAME="getCompressedIndex(int)"><!-- --></A><H3>
getCompressedIndex</H3>
<PRE>
public int <B>getCompressedIndex</B>(int&nbsp;iRawDataSample)</PRE>
<DL>
<DD>Retrieves the index of the compressed value whose aggregation
 interval includes the given raw data sample.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>iRawDataSample</CODE> - raw data sample index
<DT><B>Returns:</B><DD>index of compressed value whose aggregation interval
 includes the index of the given data sample, or
 <tt>NOSUCHINDEX</tt> if no compressed value includes the given sample.</DL>
</DD>
</DL>
<HR>

<A NAME="getFirstSampleIndex(int)"><!-- --></A><H3>
getFirstSampleIndex</H3>
<PRE>
public int <B>getFirstSampleIndex</B>(int&nbsp;iCompressed)</PRE>
<DL>
<DD>Retrieves the index of the first uncompressed sequence value included in the
 specified compressed value; uncompressed sequence indexes start at 0.
 <p>

 Returns <tt>NOSUCHINDEX</tt> if there is currently no compressed value at the given
 index.
 <p>
 
 This method can be used when you need to determine the range of underlying
 uncompressed sequence values that a compressed value incorporates.
 <p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>iCompressed</CODE> - the compressed sequence element whose sample index is to be retrieved
<DT><B>Returns:</B><DD>index of the first uncompressed sequence value incorporated into the specified compressed value.<DT><B>See Also:</B><DD><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#getLastSampleIndex(int)"><CODE>getLastSampleIndex</CODE></A>, 
<A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#NOSUCHINDEX"><CODE>NOSUCHINDEX</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getLastSampleIndex(int)"><!-- --></A><H3>
getLastSampleIndex</H3>
<PRE>
public int <B>getLastSampleIndex</B>(int&nbsp;iCompressed)</PRE>
<DL>
<DD>Retrieves the index of the last uncompressed sequence value incorporated into the
 specified compressed value.
 <p>

 Returns <tt>NOSUCHINDEX</tt> if there is currently no compressed value at the given
 index.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>iCompressed</CODE> - the compressed sequence element whose sample index is to be retrieved
<DT><B>Returns:</B><DD>index of the last uncompressed sequence value incorporated into the
 specified compressed value.<DT><B>See Also:</B><DD><A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#getFirstSampleIndex(int)"><CODE>getFirstSampleIndex</CODE></A>, 
<A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html#NOSUCHINDEX"><CODE>NOSUCHINDEX</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getNCompressedSamples()"><!-- --></A><H3>
getNCompressedSamples</H3>
<PRE>
public int <B>getNCompressedSamples</B>()</PRE>
<DL>
<DD>Retrieves the number of samples fed to the circular buffer that
 have been incorporated into the compressed sequence. The most
 recently collected samples that have not yet been incorporated
 into the compressed sequence are not included in the count.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>number of samples fed into the compressing circular buffer since
   it was created (or since the last <tt>reset</tt>), and that have
   been incorporated into the compressed sequence.</DL>
</DD>
</DL>
<HR>

<A NAME="getNSamples()"><!-- --></A><H3>
getNSamples</H3>
<PRE>
public int <B>getNSamples</B>()</PRE>
<DL>
<DD>Retrieves the number of samples fed to the circular buffer so far.
 In other words, the number of times that update was called since
 instantiation or reset.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>number of samples fed into the compressing circular buffer since
   it was created (or since the last <tt>reset</tt>).</DL>
</DD>
</DL>
<HR>

<A NAME="getNCompressed()"><!-- --></A><H3>
getNCompressed</H3>
<PRE>
public int <B>getNCompressed</B>()</PRE>
<DL>
<DD>Retrieves the number of compressed values within the circular
 buffer. 
 <p>
 
 <i>Note:</i> Except during startup, this will always equal the number
 of elements in the buffer specified in the constructor.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>number of compressed elements in the buffer</DL>
</DD>
</DL>
<HR>

<A NAME="getCompressionRatio()"><!-- --></A><H3>
getCompressionRatio</H3>
<PRE>
public int <B>getCompressionRatio</B>()</PRE>
<DL>
<DD>Retrieves the number of points that will be included in the next
 new compressed value that will be formed from samples fed in
 via the <tt>update</tt> method.
 <p>

 Initially, this starts at <tt>minCompressionRatio</tt>, until the
 compressed values buffer fills up, in which case it doubles, until
 the buffer is filled again at the higher compression ratio, then
 it doubles again, and so forth.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>number of samples (updates) included in each newly added compressed 
   sequence value.</DL>
</DD>
</DL>
<HR>

<A NAME="getCompressedValue(int)"><!-- --></A><H3>
getCompressedValue</H3>
<PRE>
public double <B>getCompressedValue</B>(int&nbsp;iCompressed)</PRE>
<DL>
<DD>Retrieves compressed value associated with given index.
  <p>
  
  Indexes range from <tt>0...nElements-1</tt>, with order corresponding
  to the order of the underlying, uncompressed, data in the
  original sequence (<tt>0</tt> for the oldest,
  <tt>nElements-1</tt> for the newest).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>iCompressed</CODE> - index of compressed value to be retrieved
<DT><B>Returns:</B><DD>value of the compressed sequence at the given index, or
 <tt>Double.NaN</tt> if no data has been placed into the
 compressed buffer at the given index (occurs only during startup).</DL>
</DD>
</DL>
<HR>

<A NAME="getIncompleteCompressedValue()"><!-- --></A><H3>
getIncompleteCompressedValue</H3>
<PRE>
public double <B>getIncompleteCompressedValue</B>()</PRE>
<DL>
<DD>Retrieves the "in progress", or incomplete compressed value. 
 <p>
 
 This value reflects any recent updates not yet incorporated into
 a compressed value. For example, if the buffer
 is currently compressing at a 4 to 1 ratio, and the total number of updates
 were not a multiple of 4, then a compressed value
 for either the most recently seen, 1, 2, or 3 points would be returned.
 
 <p>

 Note that if no incomplete compressed value is available,
 <tt>Double.NaN</tt> will be returned.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>value of the incomplete or "in progress" compressed element.</DL>
</DD>
</DL>
<HR>

<A NAME="reset()"><!-- --></A><H3>
reset</H3>
<PRE>
public void <B>reset</B>()</PRE>
<DL>
<DD>Returns the compressing circular buffer to it's initial state,
 discarding all previously seen data.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../com/googlecode/compressingcircularbuffers/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/CompressingCircularBuffer.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/googlecode/compressingcircularbuffers/AveragingCompressionMethod.html" title="class in com.googlecode.compressingcircularbuffers"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/googlecode/compressingcircularbuffers/CompressingCircularBufferTester.html" title="class in com.googlecode.compressingcircularbuffers"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/googlecode/compressingcircularbuffers/CompressingCircularBuffer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CompressingCircularBuffer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
