.TH FPTHRD_SETSCHEDPARAM 3F "" "FPTHRD API"

.SH NAME
fpthrd_setschedparam, fpthrd_getschedparam \- Control thread scheduling parameters

.SH SYNOPSIS
.B USE fpthrd

.BI "CALL fpthrd_setschedparam(" target_thread ", " policy ", " 
.IB param " [, " ierr "])"

.BI "CALL fpthrd_getschedparam(" target_thread ", " policy ", " 
.IB param " [, " ierr "])"

.BI "TYPE(FPTHRD_T) :: " target_thread
.br
.BI "INTEGER :: " policy ", " ierr
.br 
.BI "TYPE(FSCHED_PARAM) :: " param

.SH DESCRIPTION

.B "fpthrd_setschedparam"
sets the scheduling parameters for the thread
.I "target_thread"
as indicated by 
.I "policy"
and 
.IR "param" .
.I "policy"
can be
either 
.RS
.TP
.B "FSCHED_FIFO"
allows a thread to run until it blocks, it exits or there is a higher
priority thread that can run.  When a thread is preempted, it moves to
the head of its priority queue and when a blocked thread becomes
runnable, it moves to the tail of its priority queue.
.TP
.B "FSCHED_RR"
is the same as
.B "FSCHED_FIFO"
except that a thread will automatically move to the tail of its
priority queue after running a fixed amount of time.
.TP
.B "FSCHED_OTHER"
behaves exactly like
.BR "FSCHED_RR" .
.RE

.B "fpthrd_getschedparam"
retrieves the scheduling policy and scheduling
parameters for the thread 
.I "target_thread"
and returns them in 
.I "policy"
and 
.IR "param" ,
respectively.

.SH "DIAGNOSTICS"
.B "fpthrd_setschedparam"
and 
.B "fpthrd_getschedparam"
return 0 in 
.IR "ierr " on
success and a non-zero error code on error.

On error, 
.B "fpthrd_setschedparam"
returns the following error codes:
.RS
.TP
.B "EINVAL"
.I "policy"
is not one of 
.BR "FSCHED_OTHER" ,
.BR "FSCHED_RR" ,
.BR "FSCHED_FIFO" .  
.TP
.B "EINVAL"
The priority value specified by 
.I "param"
is not valid for the specified policy.
.TP
.B "ESRCH"
The 
.I "target_thread"
is invalid or has already terminated.
.TP
.B "EFAULT"
.I "param"
points outside the process memory space.
.RE

On error, 
.B "fpthrd_getschedparam"
returns the following error code:
.RS
.TP
.B "ESRCH"
The 
.I "target_thread"
is invalid or has already terminated.
.RE

.SH "SEE ALSO"
.BR "fpthrd_attr_setschedpolicy" (3F),
.BR "fpthrd_attr_setschedparam" (3F).
