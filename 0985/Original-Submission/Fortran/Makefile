OBJS = set_rk.obj rk_erfcx_Cody.obj wz_mod_rk.obj Faddeyeva_v2_mod_rk.obj\
 humlicek0mod.obj 
mod_mid=wz_mod_rk.mod Faddeyeva_v2_mod_rk.mod humlicek0mod.mod set_rk.mod rk_erfcx_Cody.mod
f90comp= ifort 
flag= -o       
switch= -O3
wz_driver_rk: $(OBJS) wz_driver_rk.obj
	$(f90comp) $(flag) wz_driver_rk $(switch) $(OBJS) wz_driver_rk.obj 

set_rk.mod: set_rk.obj set_rk.f90
set_rk.obj: set_rk.f90
	$(f90comp) -c $(switch) set_rk.f90

rk_erfcx_Cody.mod: rk_erfcx_Cody.obj rk_erfcx_Cody.f90
rk_erfcx_Cody.obj: set_rk.obj 
	$(f90comp) -c $(switch) rk_erfcx_Cody.f90

wz_mod_rk.mod: wz_mod_rk.obj wz_mod_rk.f90	
wz_mod_rk.obj: set_rk.obj 
	$(f90comp) -c $(switch) wz_mod_rk.f90

Faddeyeva_v2_mod_rk.mod: Faddeyeva_v2_mod_rk.obj Faddeyeva_v2_mod_rk.f90
Faddeyeva_v2_mod_rk.obj: set_rk.obj rk_erfcx_Cody.obj
	$(f90comp) -c $(switch) Faddeyeva_v2_mod_rk.f90

humlicek0mod.mod: humlicek0mod.obj humlicek0mod.f90
humlicek0mod.obj: set_rk.obj 
	$(f90comp) -c $(switch) humlicek0mod.f90

wz_driver_rk.obj: wz_mod_rk.obj Faddeyeva_v2_mod_rk.obj humlicek0mod.obj\
 wz_driver_rk.f90 set_rk.obj rk_erfcx_Cody.obj
	$(f90comp) -c $(switch) wz_driver_rk.f90

# Cleaning 
clean:
	# remove all files generated by the compiler
	# these are compiler dependent
	rm -f *.obj *.d *.g90 *.mod 
	# remove all executables
	rm -f $(executables)
	