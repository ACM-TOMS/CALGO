<HTML>
<HEAD>
<SCRIPT SRC=scripts.js></SCRIPT>

<STYLE>
@import URL(styles.css);
</STYLE>
<LINK REL="stylesheet" href="styles.css">
<TITLE>neighbourhood_motion</TITLE>
</HEAD>
<BODY onLoad="onLoad();"  CLASS="Object">

<A NAME=5eb9ea8x7482fc8>
<SCRIPT LANGUAGE=JavaScript>
window.name = "Body";
</SCRIPT>

<!-- This is the language filter popup menu -->
<DIV ID="FILTER_POPUP" CLASS=FilterPopup>
<A HREF="javascript:setFilter('cpp');">C++</A><BR>
<A HREF="javascript:setFilter('cs');">C#</A><BR>
<A HREF="javascript:setFilter('vb');">VB</A><BR>
<A HREF="javascript:setFilter('js');">JScript</A><BR>
<A HREF="javascript:setFilter('all');">All</A>
</DIV>

<div class="contents">
<!--- This is the navigation bar -->
<TABLE CLASS="NavBar">
<TR VALIGN="BASELINE"  class=NavBar>
<TD  CLASS="NavBarLogo"><FONT FACE="Times New Roman"><FONT SIZE=2></FONT></FONT></TD>
<TD  CLASS="NavBarCenter"><TABLE CLASS="NavBarActionLine">
<TR VALIGN="BASELINE"  class=NavBarActionLine>
<TD  CLASS="NavBarActions"><A HREF="javascript:toggleFrames()" CLASS="MenuBarOff"
onMouseOver="this.className ='MenuBarOn';" onMouseOut="this.className = 'MenuBarOff';">
<SCRIPT>
if ( isFrameView() )
document.writeln("No&nbsp;Frames");
else
document.writeln("Frames");
</script></a></TD>
<TD  CLASS="NavBarActions"><a HREF="javascript:openTOC('contents.html')" CLASS=MenuBarOff onMouseOver="this.className ='MenuBarOn';" onMouseOut="this.className = 'MenuBarOff';">Contents</a></TD>
<TD  CLASS="NavBarActions"><a HREF="javascript:openTOC('index.html')" CLASS=MenuBarOff onMouseOver="this.className ='MenuBarOn';" onMouseOut="this.className = 'MenuBarOff';">Index</a></TD>
<TD  CLASS="NavBarActions"><a HREF="d4b.html" CLASS=MenuBarOff onMouseOver="this.className ='MenuBarOn';" onMouseOut="this.className = 'MenuBarOff';">Group</a></TD>
<TD  CLASS="NavBarActions"><a HREF='Hierarchy.html' CLASS=MenuBarOff onMouseOver="this.className = 'MenuBarOn';" onMouseOut="this.className = 'MenuBarOff';">Class&nbsp;Hierarchy</a></TD>

</TR>

</TABLE>
</TD>
<TD  CLASS="NavBarCompanyLogo"><A HREF="http://www.ient.rwth-aachen.de"><IMG BORDER=0 SRC="ient_logo.gif"></A></TD>

</TR>

</TABLE>

<!-- End of navigation bar -->


  <div class="main">

<!-- Beginning of the title -->
<H1 class="Title">
<IMG BORDER=0 SRC="Method.gif" ALT="External Function" TITLE="External Function">
neighbourhood_motion
</H1>
<HR class="Title">
<DIV CLASS="Terms">Copyright (C) 2005 IENT-RWTH Aachen</DIV><DIV style="clear: both"></DIV>

<!-- End of the title -->




<P CLASS="Declaration"><SPAN CLASS="text">template&lt;int&nbsp;M,int&nbsp;N,class&nbsp;G&gt;&nbsp;inline&nbsp;typename&nbsp;NeighbourhoodMotionArray&lt;M,N,const&nbsp;<SPAN CLASS=Summary onmouseover="return popup(this,'<P CLASS=|dPopupHeading|d><SPAN CLASS=|dtext|d><IMG BORDER=0 SRC=|dCPPClass_s.gif|d ALT=|dClass|d TITLE=|dClass|d>Matrix</SPAN></P>|n<P CLASS=|dPopupNormal|d><SPAN CLASS=|dtext|d>Class that represents two-dimentional arrays</SPAN></P>|n');" onmouseout="return clearpopup();"><A HREF="javascript:openBody('d72.html#5e5ea08x86b0c10')">Matrix</A></SPAN>&lt;G&gt;&nbsp;&gt;::self<BR><SPAN CLASS=LocalReference>neighbourhood_motion</SPAN>(const&nbsp;<SPAN CLASS=Summary onmouseover="return popup(this,'<P CLASS=|dPopupHeading|d><SPAN CLASS=|dtext|d><IMG BORDER=0 SRC=|dCPPClass_s.gif|d ALT=|dClass|d TITLE=|dClass|d>Matrix</SPAN></P>|n<P CLASS=|dPopupNormal|d><SPAN CLASS=|dtext|d>Class that represents two-dimentional arrays</SPAN></P>|n');" onmouseout="return clearpopup();"><A HREF="javascript:openBody('d72.html#5e5ea08x86b0c10')">Matrix</A></SPAN>&lt;G&gt;&nbsp;&amp;<SPAN CLASS=Argument onmouseover="return popup(this,'<P CLASS=|dPopupArgumentHeading|d><SPAN CLASS=|dtext|d>const Matrix<G> &X</SPAN></P>|n<P CLASS=|dPopupNormal|d><SPAN CLASS=|dtext|d>The first image - Only images of unsigned char are currently accepted</SPAN></P>|n');" onmouseout="return clearpopup();">X</SPAN>,const&nbsp;<SPAN CLASS=Summary onmouseover="return popup(this,'<P CLASS=|dPopupHeading|d><SPAN CLASS=|dtext|d><IMG BORDER=0 SRC=|dCPPClass_s.gif|d ALT=|dClass|d TITLE=|dClass|d>Matrix</SPAN></P>|n<P CLASS=|dPopupNormal|d><SPAN CLASS=|dtext|d>Class that represents two-dimentional arrays</SPAN></P>|n');" onmouseout="return clearpopup();"><A HREF="javascript:openBody('d72.html#5e5ea08x86b0c10')">Matrix</A></SPAN>&lt;G&gt;&nbsp;&amp;<SPAN CLASS=Argument onmouseover="return popup(this,'<P CLASS=|dPopupArgumentHeading|d><SPAN CLASS=|dtext|d>const Matrix<G> &Y</SPAN></P>|n<P CLASS=|dPopupNormal|d><SPAN CLASS=|dtext|d>The second image - Only images of unsigned char are currently accepted</SPAN></P>|n');" onmouseout="return clearpopup();">Y</SPAN>,int&nbsp;<SPAN CLASS=Argument onmouseover="return popup(this,'<P CLASS=|dPopupArgumentHeading|d><SPAN CLASS=|dtext|d>int m</SPAN></P>|n<P CLASS=|dPopupNormal|d><SPAN CLASS=|dtext|d>Height of search areas, has to be 8, 16, 32 or 64</SPAN></P>|n');" onmouseout="return clearpopup();">m</SPAN>,int&nbsp;<SPAN CLASS=Argument onmouseover="return popup(this,'<P CLASS=|dPopupArgumentHeading|d><SPAN CLASS=|dtext|d>int n</SPAN></P>|n<P CLASS=|dPopupNormal|d><SPAN CLASS=|dtext|d>Width of search areas, has to be 8, 16, 32 or 64</SPAN></P>|n');" onmouseout="return clearpopup();">n</SPAN>)</SPAN></P>
<P CLASS="Normal"><SPAN CLASS="text">Motion Estimation with neigbourhood predictions</SPAN></P>
<P CLASS="Subheading"><SPAN CLASS="bullet"><IMG BORDER=0 SRC="bluedot.gif"> </SPAN><SPAN CLASS="text">Parameters</SPAN></P>
<TABLE CLASS="ArgList">
<TR VALIGN="BASELINE" >
<TD  CLASS="ArgName">X</TD>
<TD  CLASS="ArgComment"><P CLASS="Parameter"><SPAN CLASS="text">The first image - Only images of unsigned char are currently accepted</SPAN></P>
</TD>

</TR>
<TR VALIGN="BASELINE" >
<TD  CLASS="ArgName">Y</TD>
<TD  CLASS="ArgComment"><P CLASS="Parameter"><SPAN CLASS="text">The second image - Only images of unsigned char are currently accepted</SPAN></P>
</TD>

</TR>
<TR VALIGN="BASELINE" >
<TD  CLASS="ArgName">m</TD>
<TD  CLASS="ArgComment"><P CLASS="Parameter"><SPAN CLASS="text">Height of search areas, has to be 8, 16, 32 or 64</SPAN></P>
</TD>

</TR>
<TR VALIGN="BASELINE" >
<TD  CLASS="ArgName">n</TD>
<TD  CLASS="ArgComment"><P CLASS="Parameter"><SPAN CLASS="text">Width of search areas, has to be 8, 16, 32 or 64</SPAN></P>
</TD>

</TR>

</TABLE>
<P CLASS="Subheading"><SPAN CLASS="bullet"><IMG BORDER=0 SRC="bluedot.gif"> </SPAN><SPAN CLASS="text">Returns</SPAN></P>
<P CLASS="Normal"><SPAN CLASS="text">A matrix of indexes representing the motion estimation vectors of each MxN block of <SPAN CLASS=Argument onmouseover="return popup(this,'<P CLASS=|dPopupArgumentHeading|d><SPAN CLASS=|dtext|d>const Matrix<G> &X</SPAN></P>|n<P CLASS=|dPopupNormal|d><SPAN CLASS=|dtext|d>The first image - Only images of unsigned char are currently accepted</SPAN></P>|n');" onmouseout="return clearpopup();">X</SPAN>. Positive values mean displacement to the bottom, respectively to the right.</SPAN></P>
<P CLASS="Subheading"><SPAN CLASS="bullet"><IMG BORDER=0 SRC="bluedot.gif"> </SPAN><SPAN CLASS="text">Remarks</SPAN></P>
<P CLASS="Normal"><SPAN CLASS="text">The seach areas are not centered at the corresponding searched blocks, they are instead translated with previouly computed motion vectors of neighboor blocks (if already computed). Choose the size of search areas carefully in order to have fair computation time so as a fair motion estimation. SSE2 instuctions deal better for 16x16 and bigger search areas than MMX/SSE instructions.</SPAN></P>
<P CLASS="Picture"><SPAN CLASS="text"><IMG BORDER=0 SRC="neighbourhood_motion.gif"></SPAN></P>
<P CLASS="Subheading"><SPAN CLASS="bullet"><IMG BORDER=0 SRC="bluedot.gif"> </SPAN><SPAN CLASS="text">Example</SPAN></P>
<PRE>
typedef ucharImage::index_type index_type;
RGBImage Image0=..., Image1=...;
ucharImage <SPAN CLASS=Argument onmouseover="return popup(this,'<P CLASS=|dPopupArgumentHeading|d><SPAN CLASS=|dtext|d>const Matrix<G> &X</SPAN></P>|n<P CLASS=|dPopupNormal|d><SPAN CLASS=|dtext|d>The first image - Only images of unsigned char are currently accepted</SPAN></P>|n');" onmouseout="return clearpopup();">X</SPAN>=first(value_cast&lt;YUV&gt;(Image0)); // Isolates the greyscale component (<SPAN CLASS=Argument onmouseover="return popup(this,'<P CLASS=|dPopupArgumentHeading|d><SPAN CLASS=|dtext|d>const Matrix<G> &Y</SPAN></P>|n<P CLASS=|dPopupNormal|d><SPAN CLASS=|dtext|d>The second image - Only images of unsigned char are currently accepted</SPAN></P>|n');" onmouseout="return clearpopup();">Y</SPAN>)
ucharImage <SPAN CLASS=Argument onmouseover="return popup(this,'<P CLASS=|dPopupArgumentHeading|d><SPAN CLASS=|dtext|d>const Matrix<G> &Y</SPAN></P>|n<P CLASS=|dPopupNormal|d><SPAN CLASS=|dtext|d>The second image - Only images of unsigned char are currently accepted</SPAN></P>|n');" onmouseout="return clearpopup();">Y</SPAN>=first(value_cast&lt;YUV&gt;(Image1));
DenseMatrix&lt;index_type&gt;::self M = neigbourhood_motion&lt;8,8&gt;(<SPAN CLASS=Argument onmouseover="return popup(this,'<P CLASS=|dPopupArgumentHeading|d><SPAN CLASS=|dtext|d>const Matrix<G> &X</SPAN></P>|n<P CLASS=|dPopupNormal|d><SPAN CLASS=|dtext|d>The first image - Only images of unsigned char are currently accepted</SPAN></P>|n');" onmouseout="return clearpopup();">X</SPAN>,<SPAN CLASS=Argument onmouseover="return popup(this,'<P CLASS=|dPopupArgumentHeading|d><SPAN CLASS=|dtext|d>const Matrix<G> &Y</SPAN></P>|n<P CLASS=|dPopupNormal|d><SPAN CLASS=|dtext|d>The second image - Only images of unsigned char are currently accepted</SPAN></P>|n');" onmouseout="return clearpopup();">Y</SPAN>,16,16); // stores all motion vectors
</PRE>
<P CLASS="Subheading"><SPAN CLASS="bullet"><IMG BORDER=0 SRC="bluedot.gif"> </SPAN><SPAN CLASS="text">See Also</SPAN></P>
<P CLASS="Normal"><SPAN CLASS="text"><SPAN CLASS=Summary onmouseover="return popup(this,'<P CLASS=|dPopupHeading|d><SPAN CLASS=|dtext|d><IMG BORDER=0 SRC=|dMethod_s.gif|d ALT=|dExternal Function|d TITLE=|dExternal Function|d>motion</SPAN></P>|n<P CLASS=|dPopupDeclaration|d><SPAN CLASS=|dtext|d>template&lt;int M,int N,class G&gt; inline typename MotionArray&lt;M,N,const Matrix&lt;G&gt; &gt;::self|nmotion(const Matrix&lt;G&gt; &amp;X,const Matrix&lt;G&gt; &amp;Y,int m,int n)</SPAN></P>|n<P CLASS=|dPopupNormal|d><SPAN CLASS=|dtext|d>Motion Estimation</SPAN></P>|n');" onmouseout="return clearpopup();"><A HREF="javascript:openBody('9e5.html#5eb9ea8x82a05e4')">motion</A></SPAN>, <SPAN CLASS=Summary onmouseover="return popup(this,'<P CLASS=|dPopupHeading|d><SPAN CLASS=|dtext|d><IMG BORDER=0 SRC=|dMethod_s.gif|d ALT=|dExternal Function|d TITLE=|dExternal Function|d>quad_motion</SPAN></P>|n<P CLASS=|dPopupDeclaration|d><SPAN CLASS=|dtext|d>template&lt;int M,int N,class G&gt; inline typename QuadMotionArray&lt;M,N,const Matrix&lt;G&gt; &gt;::self|nquad_motion(const Matrix&lt;G&gt; &amp;X,const Matrix&lt;G&gt; &amp;Y,int l,int m,int n,int m0, int n0)</SPAN></P>|n<P CLASS=|dPopupNormal|d><SPAN CLASS=|dtext|d>Motion Estimation with quad tree predictions</SPAN></P>|n');" onmouseout="return clearpopup();"><A HREF="javascript:openBody('7de.html#5eb9ea8x84485d4')">quad_motion</A></SPAN></SPAN></P>
      </A>
    </div> <!-- id=main -->

    <div class="TrailerBanner">
<P ALIGN=CENTER class="TrailerURL">
<A HREF="http://www.ient.rwth-aachen.de/team/laurent/genial/genial.html" class="TrailerURL"><IMG BORDER=0 SRC="ient_genial_banner.gif"></A>
</P>

    </div>

  </div><!-- id=contents --></A>
</BODY>
</HTML>
