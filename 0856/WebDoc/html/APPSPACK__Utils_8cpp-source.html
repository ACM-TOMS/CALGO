<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type"
content="text/html;charset=iso-8859-1">

<!-- Required Sandia Meta Tags -->
 <meta name="review" content="08_09_2000">
<meta name="filename" content="pagename.html""
<meta name="subject" content="APPSPACK">
<meta name="keywords" content="APPSPACK">
<meta name="sandia.approval_type> content="formal">
<meta name="sandia.approved" content="2000-8833">
<meta name="sandia.create_date" content="08/09/2000">
<link rev="owns" title="page owner" href="mailto:tgkolda@sandia.gov">
<link rev="made publisher" title="page creator" href="mailto:tgkolda@sandia.gov">
<meta name="MSSmartTagsPreventParsing" content="TRUE">
<meta name="Author" content="Tamara Kolda">
<!-- End Required Sandia Meta Tags -->

<title>APPSPACK 4.0.2: APPSPACK_Utils.cpp Source File</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
</head>

  <BODY BGCOLOR="#ffffff"
    TEXT="#000000" TOPMARGIN="0" LEFTMARGIN="0" MARGINHEIGHT="0" MARGINWIDTH="0"
    LINK="#003399" VLINK="#990000">

    <a href="http://software.sandia.gov/appspack/"><IMG 
    SRC="../images/appspack.gif" WIDTH="107" HEIGHT="112" BORDER="0"
    ALIGN="left" VSPACE="0" HSPACE="7" ALT="Sandia Home"
    TITLE="Sandia Home"></a>
  
    <a href="http://www.sandia.gov/"><IMG 
    SRC="../images/snl_globe_right03_mod.gif" WIDTH="107" HEIGHT="112" BORDER="0"
    ALIGN="right" VSPACE="0" HSPACE="0" ALT="Sandia Home"
    TITLE="Sandia Home"></A>
  
  <DIV class="topright">

 
<!-- Generated by Doxygen 1.3.8 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>APPSPACK_Utils.cpp</h1><a href="APPSPACK__Utils_8cpp.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">// $Id: APPSPACK_Utils.cpp,v 1.17.2.2 2005/06/29 17:49:35 tgkolda Exp $ </span>
00002 <span class="comment">// $Source: /space/CVS-Acro/acro/packages/appspack/appspack/src/APPSPACK_Utils.cpp,v $ </span>
00003 
00004 <span class="comment">//@HEADER</span>
00005 <span class="comment">// ************************************************************************</span>
00006 <span class="comment">// </span>
00007 <span class="comment">//          APPSPACK: Asynchronous Parallel Pattern Search</span>
00008 <span class="comment">//                 Copyright (2003) Sandia Corporation</span>
00009 <span class="comment">// </span>
00010 <span class="comment">// Under terms of Contract DE-AC04-94AL85000, there is a non-exclusive</span>
00011 <span class="comment">// license for use of this work by or on behalf of the U.S. Government.</span>
00012 <span class="comment">// </span>
00013 <span class="comment">// This library is free software; you can redistribute it and/or modify</span>
00014 <span class="comment">// it under the terms of the GNU Lesser General Public License as</span>
00015 <span class="comment">// published by the Free Software Foundation; either version 2.1 of the</span>
00016 <span class="comment">// License, or (at your option) any later version.</span>
00017 <span class="comment">//  </span>
00018 <span class="comment">// This library is distributed in the hope that it will be useful, but</span>
00019 <span class="comment">// WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00020 <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
00021 <span class="comment">// Lesser General Public License for more details.</span>
00022 <span class="comment">//                                                                                 </span>
00023 <span class="comment">// You should have received a copy of the GNU Lesser General Public</span>
00024 <span class="comment">// License along with this library; if not, write to the Free Software</span>
00025 <span class="comment">// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307</span>
00026 <span class="comment">// USA.                                                                           .</span>
00027 <span class="comment">// </span>
00028 <span class="comment">// Questions? Contact Tammy Kolda (tgkolda@sandia.gov) </span>
00029 <span class="comment">// </span>
00030 <span class="comment">// ************************************************************************</span>
00031 <span class="comment">//@HEADER</span>
00032 
00038 <span class="preprocessor">#include "<a class="code" href="APPSPACK__Utils_8hpp.html">APPSPACK_Utils.hpp</a>"</span>
00039 <span class="preprocessor">#include "<a class="code" href="APPSPACK__Common_8hpp.html">APPSPACK_Common.hpp</a>"</span>
00040 
00041 
00042 <span class="preprocessor">#ifndef SNL_TFLOPS_ENV</span>
00043 <span class="preprocessor"></span>
<a name="l00044"></a><a class="code" href="namespaceAPPSPACK.html#a1">00044</a> <span class="keywordtype">bool</span> <a class="code" href="namespaceAPPSPACK.html#a1">APPSPACK::getNextQuotedString</a>(<span class="keyword">const</span> string&amp; line, string::size_type&amp; pos, string&amp; value)
00045 {
00046   <span class="comment">// Initialize value</span>
00047   value = <span class="stringliteral">""</span>;
00048 
00049   <span class="comment">// Compute the length of the line</span>
00050   string::size_type linelength = line.length();
00051 
00052   <span class="comment">// Find the location of the first quote</span>
00053   string::size_type pos1 = line.find(<span class="charliteral">'"'</span>, pos); 
00054   
00055   <span class="comment">// Check that the operation succeeded and that we're not at the end of the line</span>
00056   <span class="keywordflow">if</span> ((pos1 == string::npos) || (pos1 == linelength - 1))
00057   {
00058     pos = string::npos;
00059     <span class="keywordflow">return</span> <span class="keyword">false</span>;
00060   }
00061 
00062   <span class="comment">// Advance to first character after the first quote</span>
00063   pos1 = pos1 + 1;
00064 
00065   <span class="comment">// Find the location of the second quote</span>
00066   string::size_type pos2 = line.find(<span class="charliteral">'"'</span>, pos1); 
00067 
00068   <span class="comment">// Check that the operation was successful</span>
00069   <span class="keywordflow">if</span> (pos2 == string::npos)
00070   {
00071     pos = string::npos;
00072     <span class="keywordflow">return</span> <span class="keyword">false</span>;
00073   }
00074 
00075   <span class="comment">// Compute the length of the expression</span>
00076   string::size_type length = pos2 - pos1;
00077 
00078   <span class="comment">// Compute the final position</span>
00079   pos = (pos2 == (linelength - 1)) ? string::npos : pos2 + 1;
00080 
00081   <span class="comment">// Extract the substring</span>
00082   value = line.substr(pos1, length);
00083 
00084   <span class="comment">// Return true</span>
00085   <span class="keywordflow">return</span> <span class="keyword">true</span>;
00086 }
00087 
<a name="l00088"></a><a class="code" href="namespaceAPPSPACK.html#a2">00088</a> <span class="keywordtype">bool</span> <a class="code" href="namespaceAPPSPACK.html#a2">APPSPACK::getNextString</a>(<span class="keyword">const</span> string&amp; line, string::size_type&amp; pos, string&amp; value)
00089 {
00090   <span class="comment">// Initialize value</span>
00091   value = <span class="stringliteral">""</span>;
00092 
00093   <span class="comment">// Compute the length of the line</span>
00094   string::size_type linelength = line.length();
00095 
00096   <span class="comment">// Find the location of the first non-space character</span>
00097   string::size_type pos1 = line.find_first_not_of(<span class="charliteral">' '</span>, pos); 
00098   
00099   <span class="comment">// Check that the operation succeeded </span>
00100   <span class="keywordflow">if</span> (pos1 == string::npos) 
00101   {
00102     pos = string::npos;
00103     <span class="keywordflow">return</span> <span class="keyword">false</span>;
00104   }
00105 
00106   <span class="comment">// Find the location of the next space, if any</span>
00107   string::size_type pos2 = line.find(<span class="charliteral">' '</span>, pos1); 
00108 
00109   <span class="comment">// Compute the length of the expression</span>
00110   string::size_type length = (pos2 == string::npos) ? linelength - pos1 : pos2 - pos1;
00111 
00112   <span class="comment">// Compute the final position</span>
00113   pos = (pos2 == (linelength - 1)) ? string::npos : pos2 + 1;
00114 
00115   <span class="comment">// Extract the substring</span>
00116   value = line.substr(pos1, length);
00117 
00118   <span class="comment">// Return true</span>
00119   <span class="keywordflow">return</span> <span class="keyword">true</span>;
00120 }
00121 
<a name="l00122"></a><a class="code" href="namespaceAPPSPACK.html#a4">00122</a> <span class="keywordtype">bool</span> <a class="code" href="namespaceAPPSPACK.html#a4">APPSPACK::getNextInt</a>(<span class="keyword">const</span> string&amp; line, string::size_type&amp; pos, <span class="keywordtype">int</span>&amp; value)
00123 {
00124   string field;
00125   <span class="keywordflow">if</span> ((!<a class="code" href="namespaceAPPSPACK.html#a2">getNextString</a>(line,pos,field)) || (field.size() == 0))
00126     <span class="keywordflow">return</span> <span class="keyword">false</span>;
00127 
00128   <span class="keywordflow">return</span> ((sscanf(field.c_str(), <span class="stringliteral">"%d"</span>, &amp;value)) == 1);
00129 }
00130 
<a name="l00131"></a><a class="code" href="namespaceAPPSPACK.html#a3">00131</a> <span class="keywordtype">bool</span> <a class="code" href="namespaceAPPSPACK.html#a3">APPSPACK::getNextDouble</a>(<span class="keyword">const</span> string&amp; line, string::size_type&amp; pos, <span class="keywordtype">double</span>&amp; value)
00132 {
00133   string field;
00134   <span class="keywordflow">if</span> ((!<a class="code" href="namespaceAPPSPACK.html#a2">getNextString</a>(line,pos,field)) || (field.size() == 0))
00135     <span class="keywordflow">return</span> <span class="keyword">false</span>;
00136 
00137   <span class="keywordflow">return</span> ((sscanf(field.c_str(), <span class="stringliteral">"%le"</span>, &amp;value)) == 1);
00138 }
00139 
<a name="l00140"></a><a class="code" href="namespaceAPPSPACK.html#a6">00140</a> <span class="keywordtype">bool</span> <a class="code" href="namespaceAPPSPACK.html#a6">APPSPACK::processTextInputFileLine</a>(<span class="keyword">const</span> string&amp; line, <a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html">Parameter::List</a>&amp; params, <a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html">Parameter::List</a>*&amp; subPtr)
00141 {
00142   
00143   string::size_type pos;        <span class="comment">// current position inside line</span>
00144 
00145   string field;                 <span class="comment">// name of parameter</span>
00146 
00147   <span class="keywordtype">bool</span> tmpbool;                 <span class="comment">// for reading in a boolean</span>
00148   <span class="keywordtype">int</span> tmpint;                   <span class="comment">// for reading in an int</span>
00149   <span class="keywordtype">double</span> tmpdouble;             <span class="comment">// for reading in a double</span>
00150   string tmpstring;             <span class="comment">// for reading in a string</span>
00151   <a class="code" href="classAPPSPACK_1_1Value.html">Value</a> tmpvalue;               <span class="comment">// for reading in an APPSPACK::Value</span>
00152   <a class="code" href="namespaceAPPSPACK.html#a0">Vector</a> tmpvector;             <span class="comment">// for reading in an APPSPACK::Vector</span>
00153 
00154   string type;                  <span class="comment">// parameter type (used in new style)</span>
00155 
00156   <span class="keyword">static</span> <span class="keywordtype">int</span> n = -1;                    <span class="comment">// size of vector (used in old style)</span>
00157   <span class="keywordtype">char</span> c;                       <span class="comment">// used to read in '=' character in old style</span>
00158 
00159   <span class="keywordflow">if</span> (line.size() == 0)         <span class="comment">// empty line</span>
00160   {
00161     <span class="keywordflow">return</span> <span class="keyword">false</span>;
00162   }
00163   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (line[0] == <span class="charliteral">'#'</span>)      <span class="comment">// comment</span>
00164   {
00165     <span class="keywordflow">return</span> <span class="keyword">false</span>;
00166   }
00167   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (line[0] == <span class="charliteral">'@'</span>)      <span class="comment">// sublist command</span>
00168   {
00169     subPtr = &amp;params;
00170     
00171     pos = 0;
00172     
00173     <span class="keywordflow">while</span> (pos != string::npos)
00174     {
00175       <span class="keywordflow">if</span> ((<a class="code" href="namespaceAPPSPACK.html#a1">getNextQuotedString</a>(line, pos, field)) &amp;&amp; (field.size() &gt; 0))
00176         subPtr = &amp;(subPtr-&gt;<a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html#z41_0">sublist</a>(field));
00177     }
00178 
00179     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00180   }
00181   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (line[0] == <span class="charliteral">'"'</span>)      <span class="comment">// new style</span>
00182   {
00183 
00184     <span class="comment">// Get the name</span>
00185     pos = 0;
00186     <span class="keywordflow">if</span> ((!<a class="code" href="namespaceAPPSPACK.html#a1">getNextQuotedString</a>(line, pos, field)) || (field.empty()))
00187       <span class="keywordflow">return</span> <span class="keyword">false</span>;
00188     
00189     <span class="comment">// Read in the type</span>
00190     <span class="keywordflow">if</span> (!<a class="code" href="namespaceAPPSPACK.html#a2">getNextString</a>(line, pos, type))
00191       <span class="keywordflow">return</span> <span class="keyword">false</span>;
00192 
00193     <span class="keywordflow">if</span> (type == <span class="stringliteral">"int"</span>)
00194     {
00195       <span class="keywordflow">if</span> (!<a class="code" href="namespaceAPPSPACK.html#a4">getNextInt</a>(line, pos, tmpint))
00196       {
00197         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00198       }
00199       <span class="keywordflow">else</span>
00200       {
00201         subPtr-&gt;<a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html#z43_0">setParameter</a>(field, tmpint);
00202         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00203       }
00204     }
00205     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <span class="stringliteral">"bool"</span>)
00206     {
00207       <span class="keywordflow">if</span> (!<a class="code" href="namespaceAPPSPACK.html#a2">getNextString</a>(line, pos, tmpstring))
00208       {
00209         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00210       }
00211       <span class="keywordflow">else</span>
00212       {
00213         subPtr-&gt;<a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html#z43_0">setParameter</a>(field, (tmpstring == <span class="stringliteral">"true"</span>) );
00214         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00215       }
00216     }
00217     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <span class="stringliteral">"double"</span>)
00218     {
00219       <span class="keywordflow">if</span> (!<a class="code" href="namespaceAPPSPACK.html#a3">getNextDouble</a>(line, pos, tmpdouble))
00220       {
00221         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00222       }
00223       <span class="keywordflow">else</span>
00224       {
00225         subPtr-&gt;<a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html#z43_0">setParameter</a>(field, tmpdouble);
00226         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00227       }
00228     }
00229     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <span class="stringliteral">"string"</span>)
00230     {
00231       <span class="keywordflow">if</span> ((!<a class="code" href="namespaceAPPSPACK.html#a1">getNextQuotedString</a>(line, pos, tmpstring)) || (tmpstring.empty()))
00232       {
00233         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00234       }
00235       <span class="keywordflow">else</span>
00236       {
00237         subPtr-&gt;<a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html#z43_0">setParameter</a>(field, tmpstring);
00238         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00239       }
00240     }
00241     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <span class="stringliteral">"vector"</span>)
00242     {
00243       <span class="comment">// get the size</span>
00244       <span class="keywordflow">if</span> (!<a class="code" href="namespaceAPPSPACK.html#a4">getNextInt</a>(line, pos, tmpint))
00245         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00246 
00247       <span class="keywordflow">if</span> (tmpint &lt; 0)
00248         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00249 
00250       tmpvector.resize(tmpint);
00251       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; tmpint; i ++)
00252       {
00253         <span class="keywordflow">if</span> (!<a class="code" href="namespaceAPPSPACK.html#a3">getNextDouble</a>(line, pos, tmpvector[i]))
00254           <span class="keywordflow">return</span> <span class="keyword">false</span>;
00255       }
00256       
00257       subPtr-&gt;<a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html#z43_0">setParameter</a>(field, tmpvector);   
00258       <span class="keywordflow">return</span> <span class="keyword">true</span>;
00259     }
00260     <span class="keywordflow">else</span>
00261       <span class="keywordflow">return</span> <span class="keyword">false</span>;
00262 
00263   } <span class="comment">// end new style</span>
00264 
00265   <span class="keywordflow">else</span>                          <span class="comment">// old style</span>
00266   {
00267     istringstream linein(line);
00268     linein &gt;&gt; field;
00269     
00270     <span class="keywordflow">if</span> ((field == <span class="stringliteral">"n_parameters"</span>) || (field == <span class="stringliteral">"continuous_design"</span>))
00271     {
00272       linein &gt;&gt; c;
00273       linein &gt;&gt; n;
00274     }    
00275     
00276     <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((field == <span class="stringliteral">"initial_point"</span>) || (field == <span class="stringliteral">"cdv_initial_point"</span>))
00277     {
00278       <span class="keywordflow">if</span> (n == -1)
00279       {
00280         cout &lt;&lt; <span class="stringliteral">"Error: initial_point specified before n_parameters "</span> &lt;&lt; endl;
00281         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00282       }
00283       
00284       linein &gt;&gt; c;
00285       tmpvector.resize(n);
00286       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i ++)
00287         linein &gt;&gt; tmpvector[i];
00288       params.<a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html#z41_0">sublist</a>(<span class="stringliteral">"Solver"</span>).setParameter(<span class="stringliteral">"Initial X"</span>, tmpvector);
00289     }
00290     
00291     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (field == <span class="stringliteral">"initial_f"</span>) 
00292     {
00293       linein &gt;&gt; c;
00294       linein &gt;&gt; tmpdouble;
00295       tmpvalue.<a class="code" href="classAPPSPACK_1_1Value.html#z83_2">setValueTo</a>(<span class="keyword">true</span>, tmpdouble);
00296       params.<a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html#z41_0">sublist</a>(<span class="stringliteral">"Solver"</span>).setParameter(<span class="stringliteral">"Initial F"</span>, tmpvalue);
00297     }
00298     
00299     <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((field == <span class="stringliteral">"lower_bounds"</span>) || (field == <span class="stringliteral">"cdv_lower_bounds"</span>))
00300     {
00301       <span class="keywordflow">if</span> (n == -1)
00302       {
00303         cout &lt;&lt; <span class="stringliteral">"Error:lower_bounds specified before n_parameters "</span> &lt;&lt; endl;
00304         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00305       }
00306       
00307       linein &gt;&gt; c;
00308       tmpvector.resize(n);
00309       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i ++)
00310         linein &gt;&gt; tmpvector[i];
00311       params.<a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html#z41_0">sublist</a>(<span class="stringliteral">"Bounds"</span>).setParameter(<span class="stringliteral">"Lower"</span>, tmpvector);
00312       
00313     }
00314     
00315     <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((field == <span class="stringliteral">"upper_bounds"</span>) || (field == <span class="stringliteral">"cdv_upper_bounds"</span>))
00316     {
00317       <span class="keywordflow">if</span> (n == -1)
00318       {
00319         cout &lt;&lt; <span class="stringliteral">"Error:upper_bounds specified before n_parameters "</span> &lt;&lt; endl;
00320         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00321       }
00322       
00323       linein &gt;&gt; c;
00324       tmpvector.resize(n);
00325       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i ++)
00326         linein &gt;&gt; tmpvector[i];
00327       params.<a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html#z41_0">sublist</a>(<span class="stringliteral">"Bounds"</span>).setParameter(<span class="stringliteral">"Upper"</span>, tmpvector);
00328       
00329     }
00330     
00331     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (field == <span class="stringliteral">"executable"</span>) 
00332     {
00333       linein &gt;&gt; c;
00334       linein &gt;&gt; tmpstring;
00335       params.<a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html#z41_0">sublist</a>(<span class="stringliteral">"Evaluator"</span>).setParameter(<span class="stringliteral">"Executable Name"</span>, tmpstring);
00336     }
00337     
00338     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (field == <span class="stringliteral">"params_prefix"</span>) 
00339     {
00340       linein &gt;&gt; c;
00341       linein &gt;&gt; tmpstring;
00342       params.<a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html#z41_0">sublist</a>(<span class="stringliteral">"Evaluator"</span>).setParameter(<span class="stringliteral">"Input Prefix"</span>, tmpstring);
00343     }
00344     
00345     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (field == <span class="stringliteral">"result_prefix"</span>) 
00346     {
00347       linein &gt;&gt; c;
00348       linein &gt;&gt; tmpstring;
00349       params.<a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html#z41_0">sublist</a>(<span class="stringliteral">"Evaluator"</span>).setParameter(<span class="stringliteral">"Output Prefix"</span>, tmpstring);
00350     }
00351     
00352     <span class="keywordflow">else</span> 
00353     {
00354       cout &lt;&lt; <span class="stringliteral">"Ignoring unrecognized field."</span> &lt;&lt; field &lt;&lt; <span class="stringliteral">"\n"</span>;
00355     }
00356     
00357   } <span class="comment">/* old style */</span>
00358 
00359   <span class="keywordflow">return</span> <span class="keyword">true</span>;
00360 }
00361 
<a name="l00362"></a><a class="code" href="namespaceAPPSPACK.html#a5">00362</a> <span class="keywordtype">bool</span> <a class="code" href="namespaceAPPSPACK.html#a5">APPSPACK::parseTextInputFile</a>(<span class="keyword">const</span> string filename, <a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html">Parameter::List</a>&amp; params)
00363 {
00364   <span class="comment">// Open the input file</span>
00365   ifstream fin;
00366   fin.open(filename.c_str());
00367 
00368   <span class="keywordflow">if</span> (!fin) 
00369   {
00370     cout &lt;&lt; <span class="stringliteral">"Error: Cannot find input file "</span> &lt;&lt; filename &lt;&lt; endl;
00371     <span class="keywordflow">return</span> <span class="keyword">false</span>;
00372   }
00373 
00374   string line;                  <span class="comment">// one line from input file</span>
00375   <a class="code" href="classAPPSPACK_1_1Parameter_1_1List.html">Parameter::List</a>* subPtr;      <span class="comment">// sublist pointer</span>
00376 
00377   subPtr = &amp;params;
00378 
00379   <span class="keywordflow">while</span> (!fin.eof())
00380   {
00381     getline(fin, line);
00382     <span class="keywordflow">if</span> (!<a class="code" href="namespaceAPPSPACK.html#a6">processTextInputFileLine</a>(line, params, subPtr))
00383     {
00384       <span class="comment">// cout &lt;&lt; "Ignoring input file line: " &lt;&lt; line &lt;&lt; endl;</span>
00385     }
00386 
00387   }
00388 
00389   fin.close();
00390 
00391   <span class="keywordflow">return</span> <span class="keyword">true</span>;
00392 }
00393 
00394 
00395 <span class="preprocessor">#endif</span>
00396 <span class="preprocessor"></span>
<a name="l00397"></a><a class="code" href="namespaceAPPSPACK.html#a7">00397</a> <a class="code" href="namespaceAPPSPACK.html#a0">APPSPACK::Vector</a> <a class="code" href="namespaceAPPSPACK.html#a7">APPSPACK::createZeroVector</a>(<span class="keywordtype">int</span> n)
00398 {
00399   <a class="code" href="namespaceAPPSPACK.html#a0">Vector</a> z;
00400   z.resize(n);
00401   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n ; i ++)
00402     z[i] = 0;
00403   <span class="keywordflow">return</span> z;
00404 }
00405 
</div></pre><p>&nbsp;</p>

<P ALIGN="CENTER"><IMG ALIGN="CENTER"
SRC="../images/gold-rule-500x11.gif" WIDTH="557" HEIGHT="11"
BORDER="0"></P>

<P ALIGN="CENTER"><A HREF="http://www.sandia.gov/">&copy; Sandia
Corporation</A> | <A
HREF="mailto:tgkolda@sandia.gov?Subject=appspack">Site
Contact</A> | <A
HREF="http://www.sandia.gov/general/privacy-security/index.html">Privacy
and Security</A></P>

<P ALIGN="CENTER"><IMG ALIGN="CENTER"
SRC="../images/gold-rule-500x11.gif" WIDTH="557" HEIGHT="11"
BORDER="0"></P> 

<p align="center"><small>
Generated on Wed Dec 14 18:41:05 2005 for APPSPACK 4.0.2 by <a href="http://www.doxygen.org/index.html">
<img src="../images/doxygen.gif" alt="doxygen" align="middle" border=0 width=110 height=53>
</a> 1.3.8 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2002</small></p>

<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
</DIV>
  </BODY>
</HTML>


