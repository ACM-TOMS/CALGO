<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type"
content="text/html;charset=iso-8859-1">

<!-- Required Sandia Meta Tags -->
 <meta name="review" content="08_09_2000">
<meta name="filename" content="pagename.html""
<meta name="subject" content="APPSPACK">
<meta name="keywords" content="APPSPACK">
<meta name="sandia.approval_type> content="formal">
<meta name="sandia.approved" content="2000-8833">
<meta name="sandia.create_date" content="08/09/2000">
<link rev="owns" title="page owner" href="mailto:tgkolda@sandia.gov">
<link rev="made publisher" title="page creator" href="mailto:tgkolda@sandia.gov">
<meta name="MSSmartTagsPreventParsing" content="TRUE">
<meta name="Author" content="Tamara Kolda">
<!-- End Required Sandia Meta Tags -->

<title>APPSPACK 4.0.2: Customizing APPSPACK</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
</head>

  <BODY BGCOLOR="#ffffff"
    TEXT="#000000" TOPMARGIN="0" LEFTMARGIN="0" MARGINHEIGHT="0" MARGINWIDTH="0"
    LINK="#003399" VLINK="#990000">

    <a href="http://software.sandia.gov/appspack/"><IMG 
    SRC="../images/appspack.gif" WIDTH="107" HEIGHT="112" BORDER="0"
    ALIGN="left" VSPACE="0" HSPACE="7" ALT="Sandia Home"
    TITLE="Sandia Home"></a>
  
    <a href="http://www.sandia.gov/"><IMG 
    SRC="../images/snl_globe_right03_mod.gif" WIDTH="107" HEIGHT="112" BORDER="0"
    ALIGN="right" VSPACE="0" HSPACE="0" ALT="Sandia Home"
    TITLE="Sandia Home"></A>
  
  <DIV class="topright">

 
<!-- Generated by Doxygen 1.3.8 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1><a class="anchor" name="pageCustomize">Customizing APPSPACK</a></h1>You can customize <a class="el" href="namespaceAPPSPACK.html">APPSPACK</a> in two ways: <ul>
<li>
<a class="el" href="pageCustomize.html#pageCustomize_evaluator">Customizing the APPSPACK::Evaluator to change the way single function evaluations are handled</a> </li>
<li>
<a class="el" href="pageCustomize.html#pageCustomize_executor">Customizing the APPSPACK::Executor to change the way function evaluations are distributed in parallel</a> </li>
</ul>
<h2><a class="anchor" name="pageCustomize_evaluator">
Customizing the APPSPACK::Evaluator to change the way single function evaluations are handled</a></h2>
The <a class="el" href="namespaceAPPSPACK_1_1Evaluator.html">APPSPACK::Evaluator</a> is the object that does a single function evaluation. The parallelism is typically handled at the <a class="el" href="namespaceAPPSPACK_1_1Executor.html">APPSPACK::Executor</a> level; see below. Our default implementation is the <a class="el" href="classAPPSPACK_1_1Evaluator_1_1SystemCall.html">APPSPACK::Evaluator::SystemCall</a>, which creates an input file, executes a system call to run the evaluation program, and reads the resulting output file.<p>
You may wish to write your own custom version of the <a class="el" href="namespaceAPPSPACK_1_1Evaluator.html">APPSPACK::Evaluator</a> for any number of reasons, including customizing the input and output files or, better yet, linking directly with the function evaluation subroutine, bypassing the file I/O and system calls that are used by the <a class="el" href="classAPPSPACK_1_1Evaluator_1_1SystemCall.html">APPSPACK::Evaluator::SystemCall</a>.<p>
Here are the steps to creating your own custom evaluator for the MPI version. (The instructions for the serial version are similar.)<p>
<ol>
<li>
Create an object, e.g., MyCustomEvaluator, that derives from <a class="el" href="namespaceAPPSPACK_1_1Evaluator.html">APPSPACK::Evaluator</a> and is defined in the files MyCustomEvaluator.hpp and MyCustomEvaluator.cpp. </li>
<li>
Copy <a class="el" href="APPSPACK__Main__MPI_8cpp.html">APPSPACK_Main_MPI.cpp</a> to APPSPACK_Main_MyCustomMPI.cpp. </li>
<li>
Modify APPSPACK_Main_MyCustomMPI.cpp by replacing <a class="el" href="classAPPSPACK_1_1Evaluator_1_1SystemCall.html">APPSPACK::Evaluator::SystemCall</a> with MyCustomEvaluator, as appropriate. </li>
<li>
Compile this code and link it with the APPSPACK library (-lappspack). </li>
</ol>
<p>
A documented example is included in the directory example-custom-evaluator.<h2><a class="anchor" name="pageCustomize_executor">
Customizing the APPSPACK::Executor to change the way function evaluations are distributed in parallel</a></h2>
The <a class="el" href="namespaceAPPSPACK_1_1Executor.html">APPSPACK::Executor</a> handles <em>all</em> aspects of evaluating a function, including all aspects of the parallelism and message passing. The interface is outlined in the base class <a class="el" href="classAPPSPACK_1_1Executor_1_1Interface.html">APPSPACK::Executor::Interface</a>.<p>
We have provided two implementations for the user: <a class="el" href="classAPPSPACK_1_1Executor_1_1Serial.html">APPSPACK::Executor::Serial</a> and <a class="el" href="classAPPSPACK_1_1Executor_1_1MPI.html">APPSPACK::Executor::MPI</a>, which are used in our two default executables (see <a class="el" href="pageExecutables.html">Using the APPSPACK Executables</a>). The serial implementation is provided primarily for testing purposes; here, we focus on the MPI implementation because it is useful as an example of how to create your own version.<p>
The <a class="el" href="classAPPSPACK_1_1Executor_1_1MPI.html">APPSPACK::Executor::MPI</a> is simply an interface for managing the worker nodes. It is used on the master process to keep track of which workers are busy, distribute trial points to the workers for evaluation, and receive and relay the resulting function values.<p>
The worker is implemented inside <a class="el" href="APPSPACK__Main__MPI_8cpp.html">APPSPACK_Main_MPI.cpp</a> and is set up to coordinate with the message sent by the <a class="el" href="classAPPSPACK_1_1Executor_1_1MPI.html">APPSPACK::Executor::MPI</a> object. (Click on "Go to the source code of this file" and then scroll down to the worker code, which is offset by <code>*** Worker ***</code>).<p>
The abilities for customizing the <a class="el" href="namespaceAPPSPACK_1_1Executor.html">APPSPACK::Executor</a> are endless. It can be easily be made to work with other parallel protocals and more.<p>
<ol>
<li>
Create an object, e.g., MyCustomExecutor, that derives from <a class="el" href="namespaceAPPSPACK_1_1Executor.html">APPSPACK::Executor</a> and is defined in the files MyCustomExecutor.hpp and MyCustomExecutor.cpp. </li>
<li>
Copy <a class="el" href="APPSPACK__Main__MPI_8cpp.html">APPSPACK_Main_MPI.cpp</a> to APPSPACK_Main_MyCustomMPI.cpp. </li>
<li>
Modify APPSPACK_Main_MyCustomMPI.cpp by replacing APPSPACK::Executor::SystemCall with MyCustomExecutor, as appropriate. </li>
<li>
Compile this code and link it with the APPSPACK library (-lappspack). </li>
</ol>
<p>
A documented example is included in the directory example-custom-executor. <p>&nbsp;</p>

<P ALIGN="CENTER"><IMG ALIGN="CENTER"
SRC="../images/gold-rule-500x11.gif" WIDTH="557" HEIGHT="11"
BORDER="0"></P>

<P ALIGN="CENTER"><A HREF="http://www.sandia.gov/">&copy; Sandia
Corporation</A> | <A
HREF="mailto:tgkolda@sandia.gov?Subject=appspack">Site
Contact</A> | <A
HREF="http://www.sandia.gov/general/privacy-security/index.html">Privacy
and Security</A></P>

<P ALIGN="CENTER"><IMG ALIGN="CENTER"
SRC="../images/gold-rule-500x11.gif" WIDTH="557" HEIGHT="11"
BORDER="0"></P> 

<p align="center"><small>
Generated on Wed Dec 14 18:41:05 2005 for APPSPACK 4.0.2 by <a href="http://www.doxygen.org/index.html">
<img src="../images/doxygen.gif" alt="doxygen" align="middle" border=0 width=110 height=53>
</a> 1.3.8 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2002</small></p>

<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
<P>&nbsp;</p>
</DIV>
  </BODY>
</HTML>


