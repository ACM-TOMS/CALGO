<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Lattice Builder Manual: Command-Line Tutorial</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Lattice Builder Manual
   </div>
   <div id="projectbrief">Software Package for Constructing Rank-1 Lattices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d5/d56/cmdtut.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Command-Line Tutorial </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This tutorial teaches how to use the Lattice Builder command-line tool to search for good rank-1 lattices.</p>
<p>It is assumed in the examples that the <code>latbuilder</code> executable program can be found by the user's shell. If it is not the case, the full path to the executable program, for example <code>/path/to/latbuilder</code>, should be used in the place of just <code>latbuilder</code>.</p>
<p>Alternatively, the <a class="el" href="../../d8/d2d/webif.html">Lattice Builder Web Application</a> can be used to construct a command line, to invoke the command-line tool and to see the results.</p>
<p>This tutorial is divided into the following sections: </p><ol>
<li>
<a class="el" href="../../d5/d56/cmdtut.html#cmdtut_recipes">Recipes</a>  </li>
<li>
<a class="el" href="../../d5/d56/cmdtut.html#cmdtut_summary">Summary of Command-Line Options</a>  </li>
</ol>
<p>The following typesetting semantics is adopted:</p><ul>
<li><code>verbatim</code> for text to be typed as is;</li>
<li><code><em>arg</em></code> for text to be substituted;</li>
<li>when a command is broken into multiple lines, a trailing backslash (\) indicates that the command is continued on the next line.</li>
</ul>
<h1><a class="anchor" id="cmdtut_recipes"></a>
Recipes</h1>
<p>In this section, we start with a basic example to perform a standard component-by-component (CBC) construction, which we use to introduce the different command-line options. After, we extend that example in various ways to show how to achieve different specific tasks.</p>
<p>Consider the following basic example: </p><pre class="fragment">latbuilder \
  --lattice-type ordinary \
  --size 2053 \
  --dimension 5 \
  --construction CBC \
  --figure-of-merit CU:P2 \
  --weights product:0.7
</pre><p>The order in which the arguments are specified is not important. Some arguments consists of several tokens, separated by a colon.</p>
<ul>
<li>The argument <code>--lattice-type ordinary</code> indicates that we seek an ordinary (in contrast to embedded) rank-1 lattice rule. The construction of embedded lattices is illustrated in <a class="el" href="../../d5/d56/cmdtut.html#cmdtut_recipes_embedded">Embedded Lattices</a>.</li>
<li>The argument <code>--size 2053</code> indicates that we seek a lattice rule with 2053 points.</li>
<li>The argument <code>--dimension 5</code> specifies that we seek a lattice point set of dimension 5.</li>
<li>The argument <code>--construction CBC</code> specifies that a CBC construction should be used. Specifying other construction methods is explained in <a class="el" href="../../d5/d56/cmdtut.html#cmdtut_recipes_construction">Construction Type</a>.</li>
<li>The argument <code>--figure-of-merit CU:P2</code> consists of three colon-separated tokens. It tells Lattice Builder to use the specialized coordinate-uniform evaluation algorithm, whence the first <code>CU</code> token, for the \(\mathcal P_2\) discrepancy.</li>
<li>The argument <code>--weights product:0.7</code> assigns product weights to the figure of merit, with the same weight (0.7) for every coordinate. More general examples on how to specify the weights are given below in <a class="el" href="../../d5/d56/cmdtut.html#cmdtut_recipes_weights">Specifying the Weights</a>.</li>
</ul>
<p>To summarize, this command executes a CBC construction for an ordinary lattice with 2053 points in 5 dimensions, using the weighted \(\mathcal P_2\) figure of merit with an \(\ell_2\) norm, in coordinate-uniform with product weights such that \(\gamma_j^2 = 0.7\) for all \(j\).</p>
<p>Option names come in long and short forms. For example, the following has the same effect as the previous example: </p><pre class="fragment">latbuilder -l ordinary -n 2053 -d 5 -c CBC -m CU:P2 -w product:0.7
</pre><p> The long forms are favored in this tutorial to make the examples self-explanatory. For the sake of conciseness, in the derived examples, we only show the command-line parameters that need to be changed, or added; other parameters should be left as in the basic example.</p>
<p>This section covers the following topics: </p><ol>
<li>
<a class="el" href="../../d5/d56/cmdtut.html#cmdtut_recipes_weights">Specifying the Weights</a>  </li>
<li>
<a class="el" href="../../d5/d56/cmdtut.html#cmdtut_recipes_merit">Figures of Merit</a>  </li>
<li>
<a class="el" href="../../d5/d56/cmdtut.html#cmdtut_recipes_filters">Filtering Merit Values</a>  </li>
<li>
<a class="el" href="../../d5/d56/cmdtut.html#cmdtut_recipes_construction">Construction Type</a>  </li>
<li>
<a class="el" href="../../d5/d56/cmdtut.html#cmdtut_recipes_embedded">Embedded Lattices</a>  </li>
<li>
<a class="el" href="../../d5/d56/cmdtut.html#cmdtut_recipes_extensible">Extensible Lattices</a>  </li>
</ol>
<h2><a class="anchor" id="cmdtut_recipes_weights"></a>
Specifying the Weights</h2>
<h3><a class="anchor" id="cmdtut_recipes_weights_projdep"></a>
Projection-Dependent Weights</h3>
<p>With projection-dependent weights, the weight associated to the projection onto the coordinates in \(\mathfrak u\) can be set to any non-negative constant \(\gamma_{\mathfrak u}\).</p>
<p>The projection-dependent weights cannot be specified directly on the command line. They have to be written to a text file, say <code>weights.txt</code>, with a content similar to the following: </p><pre class="fragment"># this is a comment
1,2,3:      0.7
1,2,4:      0.5
2,3,4:      0.3
order 2:    1.0
order 3:    0.1
default:    1.0e-3
</pre><p> This assigns the square weights 0.7, 0.5 and 0.3 to projections \(\{1,2,3\}\), \(\{1,2,4\}\) and \(\{2,3,4\}\), respectively, a square weight of 1.0 to every projection of order 2, a square weight of 0.1 to every projection of order 3 other than the above three for which weights were explicitly assigned, then a square weight of \(10^{-3}\) to every other projection. The order of the lines in the file is not important. Lattice Builder must be told where to look for the weights by changing the weights argument to </p><pre class="fragment">  --weights file:weights.txt
</pre><p> The first colon-separated token indicates the type (projection-dependent) of weights, and the second one, the name of the file from which the weights must be read.</p>
<p>Note that the weights in the above examples are interpreted as square weights because, by default, the numerical values read by Lattice Builder are interpreted as the constants \(\gamma_{\mathfrak u}^p\), i.e. the weights elevated the power \(p\) matching the choice of \(\mathcal L_p\)-norm. An exception to this occurs when using the infinity-norm, where they are interpreted as if \(p = 1\). To interpret the numerical values as another power of the weights, say 1, the option </p><pre class="fragment">  --weights-power 1
</pre><p> must be added to the command line.</p>
<h3><a class="anchor" id="cmdtut_recipes_weights_orderdep"></a>
Order-Dependent Weights</h3>
<p>With order-dependent weights, the weight associated to the projection onto the coordinates in \(\mathfrak u\) is </p><p class="formulaDsp">
\[ \gamma_{\mathfrak u} = \Gamma_{|\mathfrak u|}. \]
</p>
<p>In that case, the argument of the <code>--weights</code> option consists of three colon-separated tokens: the first is the type of weights (order-dependent weights); the second is the default weight assigned to projection orders for which no weight is explicitly given; the last token is optional and is a comma-separated list of order-dependent weights \(\Gamma_1,\dots,\Gamma_j\) for some \(j\).</p>
<ul>
<li>Order-dependent weights with \(\Gamma_\ell^2 = 0.3\) for all \(\ell\): <pre class="fragment">  --weights order-dependent:0.3</pre></li>
<li>Order-dependent weights with \(\Gamma_1^2 = 1.0\), \(\Gamma_2^2 = 0.7\), \(\Gamma_3^2 = 0.3\) and \(\Gamma_\ell^2 = 0.1\) for all \(\ell \geq 4\): <pre class="fragment">  --weights order-dependent:0.1:1.0,0.7,0.3</pre></li>
</ul>
<h3><a class="anchor" id="cmdtut_recipes_weights_product"></a>
Product Weights</h3>
<p>With product weights, the weight associated to the projection onto the coordinates in \(\mathfrak u\) is </p><p class="formulaDsp">
\[ \gamma_{\mathfrak u} = \prod_{j \in \mathfrak u} \gamma_j. \]
</p>
<p>In that case, the argument of the <code>--weights</code> option consists of three colon-separated tokens: the first is the type of weights (product weights); the second is the default weight assigned to coordinates for which no weight is explicitly given; the last token is optional and is a comma-separated list of coordinate weights \(\gamma_1,\dots,\gamma_j\) for some \(j\).</p>
<ul>
<li>Product weights with \(\gamma_j^2 = 0.3\) for all \(j\): <pre class="fragment">  --weights product:0.3</pre></li>
<li>Product weights with \(\gamma_1^2 = 1.0\), \(\gamma_2^2 = 0.7\), \(\gamma_3^2 = 0.3\) and \(\gamma_j^2 = 0.1\) for all \(j \geq 4\): <pre class="fragment">  --weights product:0.1:1.0,0.7,0.3</pre></li>
</ul>
<h3><a class="anchor" id="cmdtut_recipes_weights_pod"></a>
POD Weights</h3>
<p>With product and order-dependent (POD) weights, the weight associated to the projection onto the coordinates in \(\mathfrak u\) is </p><p class="formulaDsp">
\[ \gamma_{\mathfrak u} = \Gamma_{|\mathfrak u|} \prod_{j \in \mathfrak u} \gamma_j. \]
</p>
<p>In that case, the argument of the <code>--weights</code> option consists of five colon-separated tokens: the first is the type of weights (POD), the next two specify the \(\Gamma_j\)'s as in <a class="el" href="../../d5/d56/cmdtut.html#cmdtut_recipes_weights_orderdep">Order-Dependent Weights</a>, and the last two specify the \(\gamma_j\)'s as in <a class="el" href="../../d5/d56/cmdtut.html#cmdtut_recipes_weights_product">Product Weights</a>.</p>
<ul>
<li>POD weights with \(\Gamma_1^2 = 1.0\), \(\Gamma_2^2 = 0.7\), \(\Gamma_3^2 = 0.3\) and \(\Gamma_\ell^2 = 0.1\) for all \(\ell \geq 4\), and with \(\gamma_1^2 = 1.0\), \(\gamma_2^2 = 0.9\), \(\gamma_3^2 = 0.7\) and \(\gamma_j^2 = 0.5\) for all \(j \geq 4\): <pre class="fragment">  --weights POD:0.1:1.0,0.7,0.3:0.5:1.0,0.9,0.7</pre></li>
</ul>
<h2><a class="anchor" id="cmdtut_recipes_merit"></a>
Figures of Merit</h2>
<ul>
<li>The spectral figure of merit (weighted worst projection): <p class="formulaDsp">
\[ \max_{\emptyset \neq \mathfrak u \subseteq \{1,\dots,s\}} \gamma_{\mathfrak u} \left[ \bar{\mathcal L}_{\mathfrak u}(n, \boldsymbol a) \right] \]
</p>
 where \(s\) is the dimension (5 in the basic example), \(n\) is the number of points (2053 in the basic example), \(\boldsymbol a\) is the generating vector (to be found), the constants \(\gamma_{\mathfrak u}\) are projection-dependent weights (specified as product weights in the basic example), and \(\bar{\mathcal L}_{\mathfrak u}(n, \boldsymbol a)\) is normalized maximum distance between two successive parallel hyperplanes: <pre class="fragment">    --norm-type inf --figure-of-merit spectral</pre></li>
<li>The spectral figure of merit (weighted average): <p class="formulaDsp">
\[ \sum_{\emptyset \neq \mathfrak u \subseteq \{1,\dots,s\}} \left[ \gamma_{\mathfrak u} \bar{\mathcal L}_{\mathfrak u}(n, \boldsymbol a) \right]^2 \]
</p>
 <pre class="fragment">    --figure-of-merit spectral</pre> The optional third colon-separated token specifies the exponent applied to the square brackets. It defaults to 1, as in the previous example.</li>
<li>The \(\mathcal P_\alpha\) discrepancy with \(\alpha=2\), using a term-by-term evaluation of the sum with an \(\ell_q\) norm with \(q=1.5\): <pre class="fragment">    --figure-of-merit P2 --norm-type 1.5</pre></li>
<li>The \(\mathcal P_\alpha\) discrepancy with \(\alpha=4\), using term-by-term evaluation of the sum: <pre class="fragment">    --figure-of-merit P4</pre></li>
<li>The \(\mathcal P_\alpha\) discrepancy with \(\alpha=4\), using a coordinate-uniform evaluation algorithm: <pre class="fragment">    --figure-of-merit CU:P4</pre></li>
<li>The \(\mathcal R_\alpha\) criterion with \(\alpha=1\), using a coordinate-uniform evaluation algorithm: <pre class="fragment">    --figure-of-merit CU:R1</pre></li>
<li>The normalized \(\mathcal P_\alpha\) discrepancy with \(\alpha=2\), using the bound from <a class="el" href="../../d0/de3/citelist.html#CITEREF_rSIN11a">[18]</a> : <pre class="fragment">    --figure-of-merit CU:P2 --filters norm:P2-SL10</pre> Usage of the <code>--filters</code> option is illustrated in <a class="el" href="../../d5/d56/cmdtut.html#cmdtut_recipes_filters">Filtering Merit Values</a>.</li>
</ul>
<h2><a class="anchor" id="cmdtut_recipes_filters"></a>
Filtering Merit Values</h2>
<p>Filters are optional and can be used to transform the computed values of a figure of merit, or to reject bad values. Multiple filters can be chained together by specifying multiple filter arguments separated by whitespace.</p>
<ul>
<li>Normalization using a bound on \(\mathcal P_\alpha\) from <a class="el" href="../../d0/de3/citelist.html#CITEREF_rSIN11a">[18]</a> with \(\alpha=2\): <pre class="fragment">    --filters norm:P2-SL10</pre> The first colon-separated token (<code>norm</code>) indicates that we want to apply a normalization. The second one is the type of normalization (here, a particular bound on \(\mathcal P_2\).</li>
<li>Normalization using a bound on \(\mathcal P_\alpha\) from <a class="el" href="../../d0/de3/citelist.html#CITEREF_vDIC08c">[5]</a> (available only when using product weights) with \(\alpha=2\): <pre class="fragment">    --filters norm:P2-DPW08</pre></li>
<li>Rejecting candidate lattices that have a normalized merit value larger than unity: <pre class="fragment">    --filters norm:P2-SL10 low-pass:1.0</pre> The first filter is explained above. The second filter consists of two colon-separated tokens: the first one (<code>low-pass</code>) indicates that we want to apply a low-pass filter on merit values; the second one specifies the threshold value of this low-pass filter.</li>
</ul>
<p>For usage with embedded lattices, see <a class="el" href="../../d5/d56/cmdtut.html#cmdtut_recipes_embedded">Embedded Lattices</a>.</p>
<h2><a class="anchor" id="cmdtut_recipes_construction"></a>
Construction Type</h2>
<ul>
<li>Simply evaluate the figure of merit for a lattice rule with generating vector \((1, 468, 896, 603, 367)\): <pre class="fragment">  --construction explicit:1,468,896,603,367</pre></li>
<li>Search among all possible generating vectors: <pre class="fragment">  --construction exhaustive</pre></li>
<li>Search among 1000 randomly picked generating vectors: <pre class="fragment">  --construction random:1000</pre></li>
<li>Search among 1000 randomly picked generating vectors that have a normalized \(\mathcal P_2\) value smaller than unity: <pre class="fragment">  --construction random:1000 --filters norm:P2-SL10 low-pass:1.0</pre></li>
<li>Search among all possible generating vectors for Korobov lattices: <pre class="fragment">  --construction Korobov</pre></li>
<li>Search among 30 randomly picked generating vectors for Korobov lattices: <pre class="fragment">  --construction random-Korobov:30</pre></li>
<li>Perform a standard CBC construction: <pre class="fragment">  --construction CBC</pre></li>
<li>Perform a CBC construction by considering only 10 randomly chosen values for each component of the generating vector: <pre class="fragment">  --construction random-CBC:10</pre></li>
<li>Perform a CBC construction by considering only 10 randomly chosen values for each component of the generating vector with a corresponding normalized \(\mathcal P_2\) value smaller than unity: <pre class="fragment">  --construction random-CBC:10 --filter norm:P2-SL10 low-pass:1.0</pre></li>
<li>Perform a fast CBC construction: <pre class="fragment">  --construction fast-CBC</pre></li>
</ul>
<h2><a class="anchor" id="cmdtut_recipes_embedded"></a>
Embedded Lattices</h2>
<p>Constructing embedded lattices involves producing a compound merit value that accounts for the merit of each nested level. This compound merit value is computed as follows:</p><ul>
<li>the figure of merit is evaluated for each nested level;</li>
<li>optionally, multilevel filters are applied to the individual merit values of each nested level;</li>
<li>these filtered individual merit values are combined into a single value;</li>
<li>optionally filters are applied to this combined value to produce a final compound merit value. This mechanism can be selected in Lattice Builder by changing the lattice type to embedded with: <pre class="fragment">--lattice-type embedded
</pre></li>
<li>To build embedded lattices with CBC construction in dimension 5 with \(n=2^m\) points with \(m=1,\dots,16\) using the maximum value of the spectral merit across all levels, with the same weight for all projections: <pre class="fragment">  latbuilder \
    --lattice-type embedded \
    --size "2^16" \
    --dimension 5 \
    --construction CBC \
    --figure-of-merit spectral \
    --weights product:1.0 \
    --combiner max</pre> The size of the lattice with the largest number of points can be specified with the <code>--size b^m</code>, as above with \(b=2\) and \(m=16\), or simply with <code>--size 65536</code>, where \(65,536 = 2^{16}\). The spectral merit is evaluated for each nested level, and the maximum value across all level is selected as the compound merit value, as specified with the argument <code>--combiner max</code>.</li>
<li>To build embedded lattices with fast CBC construction in dimension 10 with \(n=2^m\) points with \(m=8,\dots,16\), using a weighted sum of the normalized values of the \(\mathcal P_2\) figure of merit with product weights, and rejecting any candidate lattice that has such an individual normalized merit value larger than unity, as proposed in <a class="el" href="../../d0/de3/citelist.html#CITEREF_vDIC08c">[5]</a> , with the even weights across all levels: <pre class="fragment">  latbuilder \
    --lattice-type embedded \
    --size "2^16" \
    --dimension 10 \
    --construction fast-CBC \
    --figure-of-merit CU:P2 \
    --multilevel-filters norm:P2-DPW08:even:8,16 low-pass:1.0 \
    --weights product:0.1 \
    --combiner sum</pre> The <code>--multilevel-filters</code> argument specifies filters that must be applied individually to each embedded level. The first filter is a normalization using the weighted bound on the \(\mathcal P_2\) figure of merit as derived in <a class="el" href="../../d0/de3/citelist.html#CITEREF_vDIC08c">[5]</a> , with even weights across all levels from \(m=8,\dots,16\), and no weight for other levels. If regular filters were also specified with the <code>--filters</code> argument, they would apply to the combined merit value. Here the argument <code>--combiner sum</code> indicates that the normalized merit values should be added to produce the combined merit value.</li>
</ul>
<p>If no combiner is explicitly specified, Lattice Builder defaults to selecting the merit value of the maximum level (highest value of \(m\)), which is equivalent to constructing ordinary lattices. This combiner can also be explicitly selected with: </p><pre class="fragment">--combiner level:max
</pre><p> It is also possible to select any given level, say \(m=8\), with </p><pre class="fragment">--combiner level:8
</pre><h2><a class="anchor" id="cmdtut_recipes_extensible"></a>
Extensible Lattices</h2>
<p>Suppose you have constructed embedded lattice rules up to $2^8$ points in dimension 5 with: </p><pre class="fragment">latbuilder \
  --lattice-type embedded \
  --size "2^8" \
  --dimension 5 \
  --construction fast-CBC \
  --figure-of-merit CU:P2 \
  --multilevel-filters norm:P2-DPW08 low-pass:1.0 \
  --weights product:0.1 \
  --combiner sum
</pre><p> and have obtained the generating vector \(\boldsymbol a=(1,45,101,41,25)\). Then, you find out that you need to extend the number of points to \(2^9\). This can be done with: </p><pre class="fragment">latbuilder \
  --lattice-type ordinary \
  --size "2^9" \
  --dimension 5 \
  --construction "extend:2^8:1,45,101,41,25" \
  --figure-of-merit CU:P2 \
  --weights product:0.1
</pre><p> Note that only the merit value of the lattice with \(2^9\) points, and not that of the embedded lattices, is considered in this type of construction. The argument <code>--size "2^9"</code> specifies the extended number of points and the argument <code>--construction "extend:2^8:1,45,101,41,25"</code> indicates that we want to extend on a lattice with \(2^8\) points and generating vector \(\boldsymbol a=(1,45,101,41,25)\).</p>
<h1><a class="anchor" id="cmdtut_summary"></a>
Summary of Command-Line Options</h1>
<p>The <code>latbuilder</code> executable supports the following command-line options: </p><dl>
<dt><code>--lattice-type</code> / <code>-l</code> </dt>
<dd><em>Required.</em> Specifies the lattice size. Takes one of the following values:<ul>
<li><code>ordinary</code> to search for ordinary lattices; or</li>
<li><code>embedded</code> to search for embedded lattices.  </li>
</ul>
</dd>
<dt><code>--size</code> / <code>-n</code> </dt>
<dd><em>Required.</em> Specifies the lattice size. Takes an argument of either form:<ul>
<li><code><em>numberOfPoints</em></code>; or</li>
<li><code><em>primeBase</em>^<em>power</em></code>.  </li>
</ul>
</dd>
<dt><code>--figure-of-merit</code> / <code>-m</code> </dt>
<dd><p class="startdd"><em>Required.</em> Specifies the accumulator type and figure of merit to be used. Takes an argument of either of the following forms:</p><ul>
<li><code><em>accumulator</em>:<em>figure</em></code></li>
<li><code>CU:<em>accumulator</em>:<em>figure</em></code></li>
</ul>
<p>where the optional prefix <code>CU:</code> indicates that a coordinate-uniform implementation of the evaluation algorithm should be used;</p>
<p class="enddd">and where <code><em>figure</em></code> is one of:</p><ul>
<li><code>spectral</code> for the spectral figure of merit;</li>
<li><code>P<em>alpha</em></code> for the weighted \(\mathcal P_\alpha\) figure of merit with \(\alpha=\)<code><em>alpha</em></code>; or</li>
<li><code>R<em>alpha</em></code> for the weighted \(\mathcal R_\alpha\) figure of merit with \(\alpha=\)<code><em>alpha</em></code>.  </li>
</ul>
</dd>
<dt><code>--norm-type</code> / <code>-p</code> </dt>
<dd><em>Optional (default: 2).</em> Specifies the type of <em>L_p</em> norm to combine the merit values across projections. Takes an argument of the form:<ul>
<li><code><em>realNumber</em></code> for a finite number;</li>
<li><code>inf</code> for infinity.  </li>
</ul>
</dd>
<dt><code>--construction</code> / <code>-c</code> </dt>
<dd><p class="startdd"><em>Required.</em> Specifies the search space or construction method. Takes an argument of the form:</p><ul>
<li><code>explicit:<em>genVec</em></code> to just compute the merit value of the lattice with generating vector <code><em>genVec</em></code> specified as a list comma-separated integers;</li>
<li><code>exhaustive</code> for exhaustive search;</li>
<li><code>random:<em>samples</em></code> for a random search with <code><em>samples</em></code> random samples;</li>
<li><code>Korobov</code> for a Korobov search;</li>
<li><code>random-Korobov:<em>samples</em></code> for a random Korobov search with <code><em>samples</em></code> random samples;</li>
<li><code>CBC</code> for a component-by-component search;</li>
<li><code>random-CBC:<em>samples</em></code> for a random component-by-component search with <code><em>samples</em></code> random samples per coordinate;</li>
<li><code>fast-CBC</code> for a fast CBC search (requires a coordinate-uniform implementation of the selected figure of merit);</li>
<li><code>extend:<em>numberOfPoints</em>:<em>genVec</em></code> to extend the number of points on a lattice with number of points <code><em>numberOfPoints</em></code> and generating vector <code><em>genVec</em></code> specified as a list comma-separated integers.</li>
</ul>
<p>Because the implementation of the fast CBC algorithm in lattice builder supports only numbers of points that are an integer power of a prime base, it can only be applied to embedded lattices.</p>
<p class="enddd">When the random variant of a search is used with a filters (see the <code>--filters</code> option below), the candidate samples that are rejected by the filter pipeline are not considered as valid samples, meaning that the user-specified number of random samples corresponds to only the number of accepted candidates.  </p>
</dd>
<dt><code>--weights</code> / <code>-w</code> </dt>
<dd><p class="startdd"><em>Required.</em> Specifies the type(s) of weights and their values. Takes a whitespace-separated list of arguments, each of which specifying a type of weights with its values. (The actual weights are the sum of these.) Takes argument of the form:</p><ul>
<li><code>product:<em>default</em>:<em>list</em></code> for product weights with the weights for the first coordinates specified by the comma-separated list of weights <code><em>list</em></code>, and with weight <code><em>default</em></code> for the other coordinates;</li>
<li><code>order-dependent:<em>default</em>:<em>list</em></code> for order-dependent weights with the weights for the first orders specified by the comma-separated list of weights <code><em>list</em></code> (starting at order 1), and with weight <code><em>default</em></code> for the other orders;</li>
<li><code>projection-dependent:<em>filename</em></code> for projection-dependent weights specified in the file named <code><em>filename</em></code>.</li>
<li><code>POD:<em>default1</em>:<em>list1</em>:<em>default2</em>:<em>list2</em></code> for POD weights, where <code><em>default1</em></code> and <code><em>list1</em></code> specify the default and individual order-dependent weights, and where <code><em>default2</em></code> and <code><em>list2</em></code> specify the default and individual product weights.</li>
</ul>
<p>For projection-dependent weights, the file containing the weights must consist of lines of the form:</p><ul>
<li><code><em>coordinates</em>: <em>weight</em></code> to assign the weight <code><em>weight</em></code> to the projection defined by the comma-separated list of coordinates <code><em>coordinates</em></code>;</li>
<li><code>order <em>order</em>: <em>weight</em></code> to assign the weight <code><em>weight</em></code> to all other projections of order <code><em>order</em></code>;</li>
<li><code>default: <em>weight</em></code> to assign the weight <code><em>weight</em></code> to all other projections;</li>
<li><code>#<em>comment</em></code> to ignore <code><em>comment</em></code>.</li>
</ul>
<p class="enddd"></p>
</dd>
<dt><code>--dimension</code> / <code>-d</code> </dt>
<dd><em>Required.</em> Specifies the dimension. Takes an integer argument.  </dd>
<dt><code>--filters</code> / <code>-f</code> </dt>
<dd><p class="startdd"><em>Optional.</em> Configures filters for merit values. Takes a whitespace-separated list of arguments of the form:</p><ul>
<li><code>norm:<em>type</em></code> for a normalizer for the weighted \(\mathcal P_\alpha\) discrepancy based on the norm of type specified by <code><em>type</em></code>;</li>
<li><code>low-pass:<em>threshold</em></code> for a low-pass filter with thresold value <code><em>threshold</em></code>;</li>
</ul>
<p>where <code><em>type</em></code> is one of:</p><ul>
<li><code>P<em>alpha</em>-SL10</code> for the bound from <a class="el" href="../../d0/de3/citelist.html#CITEREF_rSIN11a">[18]</a> ; or</li>
<li><code>P<em>alpha</em>-DPW08</code> for the bound from <a class="el" href="../../d0/de3/citelist.html#CITEREF_vDIC08c">[5]</a> (available only with product weights);</li>
</ul>
<p class="enddd"></p>
</dd>
<dt><code>--multilevel-filters</code> / <code>-F</code> </dt>
<dd><p class="startdd"><em>Optional.</em> Configures filters for the individual merit values of each nested level. Takes the same values as the <code>--filters</code> argument, except that, in the case of a normalization filter, weights can be optionally specified by appending <code>:even:<em>minLevel</em>,<em>maxLevel</em></code> to the filter specification, which sets even weights across all levels ranging from <code><em>minLevel</em></code> through <code><em>maxLevel</em></code>, and a zero weight for other levels.</p>
<p class="enddd"></p>
</dd>
<dt><code>--combiner</code> / <code>-b</code> </dt>
<dd><p class="startdd"><em>Optional.</em> Selects a combiner for multilevel figures of merit. Takes one of the following values:</p><ul>
<li><code>sum</code> to sum the individual merit values of all nested levels;</li>
<li><code>max</code> to select the maximum individual merit value across all nested levels;</li>
<li><code>level:max</code> to select the individual merit value of the nested level with the largest number of points (the highest level);</li>
<li><code>level:<em>m</em></code> to select the individual merit value of the \(m\)th nested level.</li>
</ul>
<p class="enddd"></p>
</dd>
<dt><code>--merit-digits-displayed</code> </dt>
<dd><p class="startdd"><em>Optional.</em> Sets the number of significant figures to use when displaying merit values. Takes a positive integer as its argument.</p>
<p class="enddd"></p>
</dd>
</dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">Lattice Builder Manual</a></li>
    <li class="footer">Generated on Wed Apr 1 2015 20:46:59 for Lattice Builder Manual by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
