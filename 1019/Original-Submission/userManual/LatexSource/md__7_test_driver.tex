The test program provides an unified interface for testing the entire library. Most command line arguments have default values so only few of them have to be set in most situations. General usage information can be printed as follows\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\$ ./starneig-\/test}
\DoxyCodeLine{Usage: ./starneig-\/test (options)}
\DoxyCodeLine{}
\DoxyCodeLine{Global options:}
\DoxyCodeLine{  -\/-\/mpi -\/-\/ Enable MPI}
\DoxyCodeLine{  -\/-\/mpi-\/mode [serialized,multiple] -\/-\/ MPI mode}
\DoxyCodeLine{  -\/-\/seed (num) -\/-\/ Random number generator seed}
\DoxyCodeLine{  -\/-\/experiment (experiment) -\/-\/ Experiment module}
\DoxyCodeLine{  -\/-\/test-\/workers [(num),default] -\/-\/ Test program StarPU worker count}
\DoxyCodeLine{  -\/-\/blas-\/threads [(num),default] -\/-\/ Test program BLAS thread count}
\DoxyCodeLine{  -\/-\/lapack-\/threads [(num),default] -\/-\/ LAPACK solver thread count}
\DoxyCodeLine{  -\/-\/scalapack-\/threads [(num),default] -\/-\/ ScaLAPACK solver thread count}
\DoxyCodeLine{}
\DoxyCodeLine{Available experiment modules:}
\DoxyCodeLine{    'hessenberg' : Hessenberg reduction experiment}
\DoxyCodeLine{    'schur' : Schur reduction experiment}
\DoxyCodeLine{    'reorder' : Eigenvalue reordering experiment}
\DoxyCodeLine{    'eigenvectors' : Eigenvectors experiment}
\DoxyCodeLine{    'full-\/chain' : Full chain experiment}
\DoxyCodeLine{    'partial-\/hessenberg' : Partial Hessenberg reduction experiment}
\DoxyCodeLine{    'validator' : Validation experiment}
\end{DoxyCode}


The {\ttfamily -\/-\/mpi} option enables the M\+PI support and {\ttfamily -\/-\/seed (num)} option initializes the random number generator with a given seed. Available experiment modules are listed below the global options and the desired experiment module is selected with the {\ttfamily -\/-\/experiment (experiment)} option. For example, the Hessenberg reduction specific experiment module usage information can be printed as follows\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\$ ./starneig-\/test -\/-\/experiment hessenberg}
\DoxyCodeLine{Usage: ./starneig-\/test (options)}
\DoxyCodeLine{}
\DoxyCodeLine{Global options:}
\DoxyCodeLine{  -\/-\/mpi -\/-\/ Enable MPI}
\DoxyCodeLine{  -\/-\/mpi-\/mode [serialized,multiple] -\/-\/ MPI mode}
\DoxyCodeLine{  -\/-\/seed (num) -\/-\/ Random number generator seed}
\DoxyCodeLine{  -\/-\/experiment (experiment) -\/-\/ Experiment module}
\DoxyCodeLine{  -\/-\/test-\/workers [(num),default] -\/-\/ Test program StarPU worker count}
\DoxyCodeLine{  -\/-\/blas-\/threads [(num),default] -\/-\/ Test program BLAS thread count}
\DoxyCodeLine{  -\/-\/lapack-\/threads [(num),default] -\/-\/ LAPACK solver thread count}
\DoxyCodeLine{  -\/-\/scalapack-\/threads [(num),default] -\/-\/ ScaLAPACK solver thread count}
\DoxyCodeLine{}
\DoxyCodeLine{Available experiment modules:}
\DoxyCodeLine{    'hessenberg' : Hessenberg reduction experiment}
\DoxyCodeLine{    'schur' : Schur reduction experiment}
\DoxyCodeLine{    'reorder' : Eigenvalue reordering experiment}
\DoxyCodeLine{    'eigenvectors' : Eigenvectors experiment}
\DoxyCodeLine{    'full-\/chain' : Full chain experiment}
\DoxyCodeLine{    'partial-\/hessenberg' : Partial Hessenberg reduction experiment}
\DoxyCodeLine{    'validator' : Validation experiment}
\DoxyCodeLine{}
\DoxyCodeLine{Experiment module (hessenberg) specific options:}
\DoxyCodeLine{  -\/-\/data-\/format (format) -\/-\/ Data format}
\DoxyCodeLine{  -\/-\/init (initializer) -\/-\/ Initialization module}
\DoxyCodeLine{  -\/-\/solver (solver) -\/-\/ Solver module}
\DoxyCodeLine{  -\/-\/hooks (hook:mode, ...) -\/-\/ Hooks and modes}
\DoxyCodeLine{  -\/-\/no-\/reinit -\/-\/ Do not reinitialize after each repetition}
\DoxyCodeLine{  -\/-\/repeat (num) -\/-\/ Repeated experiment}
\DoxyCodeLine{  -\/-\/warmup (num) -\/-\/ Perform "warmups"}
\DoxyCodeLine{  -\/-\/keep-\/going -\/-\/ Try to recover from a solver failure}
\DoxyCodeLine{  -\/-\/abort -\/-\/ Call abort() in failure}
\DoxyCodeLine{...}
\end{DoxyCode}


The overall design of the test program is modular. Each experiment module is built on {\itshape initializers}, {\itshape solvers} and {\itshape hooks}. Each experiment module contains several of each, thus allowing a user to initialize the inout data in various ways and compare different solvers with each other. Each of these building blocks can be configured with various command line arguments. However, in most situations only the problem dimension {\ttfamily -\/-\/n (num)} needs to be specified.

Hooks are used to test and validate the output of the solver. For example, {\ttfamily -\/-\/hooks hessenberg residual print} option enables hooks that


\begin{DoxyItemize}
\item check whether the output matrix is in upper Hessenberg form;
\item computes the related residuals using Frobenius norm (reported in terms of unit roundoff error) and checks that they are within the permissible limits; and
\item prints the output matrices.
\end{DoxyItemize}

Certain general purpose initializers allow a user to read the input data from a disk ({\ttfamily read-\/mtx} and {\ttfamily read-\/raw}) and output data can be stored to a disk using a suitable post-\/processing hook ({\ttfamily store-\/raw}).

The test program supports various data formats. For example, shared memory experiments are usually performed using the {\ttfamily pencil-\/local} data format which stores the matrices continuously in the main memory. Distributed memory experiments are performed using either a Star\+N\+Eig library specific distributed data format ({\ttfamily pencil-\/starneig}) and the B\+L\+A\+CS data format ({\ttfamily pencil-\/starneig-\/blacs}). The test program will detect the correct data format automatically. The test program is also is capable of converting the data between various data formats. The related data converter modules can be in most cases configured using additional command line arguments. For example, the distributed data formats distribute the data in rectangular sections and the section size can be set with command line arguments {\ttfamily -\/-\/section-\/height (num)} and {\ttfamily -\/-\/section-\/width (num)}).

\doxysection*{Performance models}

The Star\+PU performance models must be calibrated before the software can function efficiently on heterogeneous platforms (C\+P\+Us+\+G\+P\+Us). The calibration is triggered automatically if the models are not calibrated well enough for a given problem size. This can impact the execution time negatively. The test program provides an easy-\/to-\/use solution for this problem\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\$ ./starneig-\/test ... -\/-\/warmup 3}
\end{DoxyCode}


The {\ttfamily -\/-\/warmup (number)} argument causes the test program to perform a number of warm-\/up runs before the actual execution time measurement takes place.

Please see the Star\+PU handbook for further instructions\+: \href{http://starpu.gforge.inria.fr/doc/html/Scheduling.html}{\texttt{ http\+://starpu.\+gforge.\+inria.\+fr/doc/html/\+Scheduling.\+html}}

\doxysection*{Examples}


\begin{DoxyItemize}
\item Reorder a 4000 x 4000 matrix using the Star\+N\+Eig implementation\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{\$ ./starneig-\/test -\/-\/experiment reorder -\/-\/n 4000}
\DoxyCodeLine{TEST: -\/-\/seed 1585762840 -\/-\/experiment reorder -\/-\/test-\/workers default -\/-\/blas-\/threads default -\/-\/lapack-\/threads default -\/-\/scalapack-\/threads default -\/-\/data-\/format pencil-\/local -\/-\/init default -\/-\/n 4000 -\/-\/complex-\/distr uniform -\/-\/complex-\/ratio 0.500000 -\/-\/zero-\/ratio 0.010000 -\/-\/inf-\/ratio 0.010000 -\/-\/data-\/distr default -\/-\/section-\/height default -\/-\/section-\/width default -\/-\/select-\/ratio 0.350000 -\/-\/solver starneig -\/-\/cores default -\/-\/gpus default -\/-\/tile-\/size default -\/-\/window-\/size default -\/-\/values-\/per-\/chain default -\/-\/small-\/window-\/size default -\/-\/small-\/window-\/threshold default -\/-\/update-\/width default -\/-\/update-\/height default -\/-\/plan default -\/-\/blueprint default -\/-\/hooks schur:normal eigenvalues:normal analysis:normal reordering:normal residual:normal -\/-\/eigenvalues-\/fail-\/threshold 10000 -\/-\/eigenvalues-\/warn-\/threshold 1000 -\/-\/reordering-\/fail-\/threshold 10000 -\/-\/reordering-\/warn-\/threshold 1000 -\/-\/residual-\/fail-\/threshold 10000 -\/-\/residual-\/warn-\/threshold 500 -\/-\/repeat 1 -\/-\/warmup 0}
\DoxyCodeLine{THREADS: Using 6 StarPU worker threads during initialization and validation.}
\DoxyCodeLine{THREADS: Using 6 BLAS threads during initialization and validation.}
\DoxyCodeLine{THREADS: Using 6 BLAS threads in LAPACK solvers.}
\DoxyCodeLine{THREADS: Using 1 BLAS threads in ScaLAPACK solvers.}
\DoxyCodeLine{INIT...}
\DoxyCodeLine{PREPARE...}
\DoxyCodeLine{PROCESS...}
\DoxyCodeLine{[starneig][message] Setting tile size to 192.}
\DoxyCodeLine{[starneig][message] Using multi-\/part task insertion plan.}
\DoxyCodeLine{[starneig][message] Using two-\/pass backward dummy blueprint.}
\DoxyCodeLine{[starneig][message] Using "rounded" window size.}
\DoxyCodeLine{EXPERIMENT TIME = 1701 MS}
\DoxyCodeLine{FINALIZE...}
\DoxyCodeLine{EIGENVALUES CHECK: mean = 0 u, min = 0 u, max = 0 u}
\DoxyCodeLine{EIGENVALUES ANALYSIS: zeros = 36, infinities = 0, indefinites = 0}
\DoxyCodeLine{EIGENVALUES ANALYSIS: close zeros = 0, close infinities = 0, close indefinites = 0}
\DoxyCodeLine{REORDERING CHECK: Checking selected eigenvalues...}
\DoxyCodeLine{REORDERING CHECK: Checking other eigenvalues...}
\DoxyCodeLine{REORDERING CHECK: mean = 71 u, min = 0 u, max = 526 u}
\DoxyCodeLine{|Q \string~A Q\string^T -\/ A| / |A| = 314 u}
\DoxyCodeLine{|Q Q\string^T -\/ I| / |I| = 140 u}
\DoxyCodeLine{================================================================}
\DoxyCodeLine{TIME = 1701 MS [avg 1701 MS, cv 0.00, min 1701 MS, max 1701 MS]}
\DoxyCodeLine{NO FAILED SCHUR FORM TESTS}
\DoxyCodeLine{EIGENVALUES CHECK (WARNINGS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES CHECK (FAILS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES CHECK (MEANS): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{EIGENVALUES CHECK (MIN): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{EIGENVALUES CHECK (MAX): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (ZEROS): [avg 36.0, cv 0.00, min 36, max 36]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (CLOSE ZEROS): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (INFINITIES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (CLOSE INFINITIES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (INDEFINITES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (CLOSE INDEFINITES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{REORDERING CHECK (WARNINGS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{REORDERING CHECK (FAILS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{REORDERING CHECK (MEANS): [avg 71 u, cv 0.00, min 71 u, max 71 u]}
\DoxyCodeLine{REORDERING CHECK (MIN): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{REORDERING CHECK (MAX): [avg 526 u, cv 0.00, min 526 u, max 526 u]}
\DoxyCodeLine{|Q \string~A Q\string^T -\/ A| / |A| = [avg 314 u, cv 0.00, min 314 u, max 314 u]}
\DoxyCodeLine{|Q Q\string^T -\/ I| / |I| = [avg 140 u, cv 0.00, min 140 u, max 140 u]}
\end{DoxyCode}



\begin{DoxyItemize}
\item Reorder a 4000 x 4000 matrix stencil $(A,B)$ using the Star\+N\+Eig implementation, initialize the random number generator using the seed {\ttfamily 1480591971}, fortify the matrix stencil $(A,B)$ against failed swaps, and disable G\+P\+Us\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{\$ ./starneig-\/test -\/-\/experiment reorder -\/-\/n 4000 -\/-\/generalized -\/-\/seed 1480591971 -\/-\/fortify -\/-\/gpus 0}
\DoxyCodeLine{TEST: -\/-\/seed 1480591971 -\/-\/experiment reorder -\/-\/test-\/workers default -\/-\/blas-\/threads default -\/-\/lapack-\/threads default -\/-\/scalapack-\/threads default -\/-\/data-\/format pencil-\/local -\/-\/init default -\/-\/n 4000 -\/-\/generalized -\/-\/complex-\/distr uniform -\/-\/fortify -\/-\/data-\/distr default -\/-\/section-\/height default -\/-\/section-\/width default -\/-\/select-\/ratio 0.350000 -\/-\/solver starneig -\/-\/cores default -\/-\/gpus 0 -\/-\/tile-\/size default -\/-\/window-\/size default -\/-\/values-\/per-\/chain default -\/-\/small-\/window-\/size default -\/-\/small-\/window-\/threshold default -\/-\/update-\/width default -\/-\/update-\/height default -\/-\/plan default -\/-\/blueprint default -\/-\/hooks schur:normal eigenvalues:normal analysis:normal reordering:normal residual:normal -\/-\/eigenvalues-\/fail-\/threshold 10000 -\/-\/eigenvalues-\/warn-\/threshold 1000 -\/-\/reordering-\/fail-\/threshold 10000 -\/-\/reordering-\/warn-\/threshold 1000 -\/-\/residual-\/fail-\/threshold 10000 -\/-\/residual-\/warn-\/threshold 500 -\/-\/repeat 1 -\/-\/warmup 0}
\DoxyCodeLine{THREADS: Using 6 StarPU worker threads during initialization and validation.}
\DoxyCodeLine{THREADS: Using 6 BLAS threads during initialization and validation.}
\DoxyCodeLine{THREADS: Using 6 BLAS threads in LAPACK solvers.}
\DoxyCodeLine{THREADS: Using 1 BLAS threads in ScaLAPACK solvers.}
\DoxyCodeLine{INIT...}
\DoxyCodeLine{PREPARE...}
\DoxyCodeLine{PROCESS...}
\DoxyCodeLine{[starneig][message] Setting tile size to 192.}
\DoxyCodeLine{[starneig][message] Using multi-\/part task insertion plan.}
\DoxyCodeLine{[starneig][message] Using two-\/pass backward dummy blueprint.}
\DoxyCodeLine{[starneig][message] Using "rounded" window size.}
\DoxyCodeLine{EXPERIMENT TIME = 7472 MS}
\DoxyCodeLine{FINALIZE...}
\DoxyCodeLine{EIGENVALUES CHECK: mean = 0 u, min = 0 u, max = 0 u}
\DoxyCodeLine{EIGENVALUES ANALYSIS: zeros = 0, infinities = 0, indefinites = 0}
\DoxyCodeLine{EIGENVALUES ANALYSIS: close zeros = 0, close infinities = 0, close indefinites = 0}
\DoxyCodeLine{REORDERING CHECK: Checking selected eigenvalues...}
\DoxyCodeLine{REORDERING CHECK: Checking other eigenvalues...}
\DoxyCodeLine{REORDERING CHECK: mean = 23 u, min = 0 u, max = 169 u}
\DoxyCodeLine{|Q \string~A Z\string^T -\/ A| / |A| = 46 u}
\DoxyCodeLine{|Q \string~B Z\string^T -\/ B| / |B| = 63 u}
\DoxyCodeLine{|Q Q\string^T -\/ I| / |I| = 44 u}
\DoxyCodeLine{|Z Z\string^T -\/ I| / |I| = 43 u}
\DoxyCodeLine{================================================================}
\DoxyCodeLine{TIME = 7472 MS [avg 7472 MS, cv 0.00, min 7472 MS, max 7472 MS]}
\DoxyCodeLine{NO FAILED SCHUR FORM TESTS}
\DoxyCodeLine{EIGENVALUES CHECK (WARNINGS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES CHECK (FAILS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES CHECK (MEANS): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{EIGENVALUES CHECK (MIN): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{EIGENVALUES CHECK (MAX): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (ZEROS): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (CLOSE ZEROS): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (INFINITIES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (CLOSE INFINITIES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (INDEFINITES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (CLOSE INDEFINITES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{REORDERING CHECK (WARNINGS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{REORDERING CHECK (FAILS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{REORDERING CHECK (MEANS): [avg 23 u, cv 0.00, min 23 u, max 23 u]}
\DoxyCodeLine{REORDERING CHECK (MIN): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{REORDERING CHECK (MAX): [avg 169 u, cv 0.00, min 169 u, max 169 u]}
\DoxyCodeLine{|Q \string~A Z\string^T -\/ A| / |A| = [avg 46 u, cv 0.00, min 46 u, max 46 u]}
\DoxyCodeLine{|Q \string~B Z\string^T -\/ B| / |B| = [avg 63 u, cv 0.00, min 63 u, max 63 u]}
\DoxyCodeLine{|Q Q\string^T -\/ I| / |I| = [avg 44 u, cv 0.00, min 44 u, max 44 u]}
\DoxyCodeLine{|Z Z\string^T -\/ I| / |I| = [avg 43 u, cv 0.00, min 43 u, max 43 u]}
\end{DoxyCode}



\begin{DoxyItemize}
\item Reduce a dense matrix to upper Hessenberg form, validate the output and store the output matrices to the disk\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{\$ ./starneig-\/test -\/-\/experiment hessenberg -\/-\/n 4000 -\/-\/hooks hessenberg residual store-\/raw -\/-\/store-\/raw-\/output hessenberg\_\%s.dat}
\DoxyCodeLine{TEST: -\/-\/seed 1585762935 -\/-\/experiment hessenberg -\/-\/test-\/workers default -\/-\/blas-\/threads default -\/-\/lapack-\/threads default -\/-\/scalapack-\/threads default -\/-\/data-\/format pencil-\/local -\/-\/init default -\/-\/n 4000 -\/-\/data-\/distr default -\/-\/section-\/height default -\/-\/section-\/width default -\/-\/solver starneig -\/-\/cores default -\/-\/gpus default -\/-\/tile-\/size default -\/-\/panel-\/width default -\/-\/hooks hessenberg:normal residual:normal store-\/raw:normal -\/-\/residual-\/fail-\/threshold 10000 -\/-\/residual-\/warn-\/threshold 500 -\/-\/store-\/raw-\/output hessenberg\_\%s.dat -\/-\/repeat 1 -\/-\/warmup 0}
\DoxyCodeLine{THREADS: Using 6 StarPU worker threads during initialization and validation.}
\DoxyCodeLine{THREADS: Using 6 BLAS threads during initialization and validation.}
\DoxyCodeLine{THREADS: Using 6 BLAS threads in LAPACK solvers.}
\DoxyCodeLine{THREADS: Using 1 BLAS threads in ScaLAPACK solvers.}
\DoxyCodeLine{INIT...}
\DoxyCodeLine{PREPARE...}
\DoxyCodeLine{PROCESS...}
\DoxyCodeLine{[starneig][message] Setting tile size to 336.}
\DoxyCodeLine{[starneig][message] Setting panel width to 288.}
\DoxyCodeLine{EXPERIMENT TIME = 13121 MS}
\DoxyCodeLine{FINALIZE...}
\DoxyCodeLine{|Q \string~A Q\string^T -\/ A| / |A| = 15 u}
\DoxyCodeLine{|Q Q\string^T -\/ I| / |I| = 11 u}
\DoxyCodeLine{WRITING TO hessenberg\_A.dat...}
\DoxyCodeLine{WRITING TO hessenberg\_Q.dat...}
\DoxyCodeLine{WRITING TO hessenberg\_CA.dat...}
\DoxyCodeLine{================================================================}
\DoxyCodeLine{TIME = 13121 MS [avg 13121 MS, cv 0.00, min 13121 MS, max 13121 MS]}
\DoxyCodeLine{NO FAILED HESSENBERG FORM TESTS}
\DoxyCodeLine{|Q \string~A Q\string^T -\/ A| / |A| = [avg 15 u, cv 0.00, min 15 u, max 15 u]}
\DoxyCodeLine{|Q Q\string^T -\/ I| / |I| = [avg 11 u, cv 0.00, min 11 u, max 11 u]}
\end{DoxyCode}



\begin{DoxyItemize}
\item Read an upper Hessenberg matrix from the disk, reduce it to Schur form and set tile size to {\ttfamily 128}\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{\$ ./starneig-\/test -\/-\/experiment schur -\/-\/init read-\/raw -\/-\/input hessenberg\_\%s.dat -\/-\/tile-\/size 128}
\DoxyCodeLine{TEST: -\/-\/seed 1585762972 -\/-\/experiment schur -\/-\/test-\/workers default -\/-\/blas-\/threads default -\/-\/lapack-\/threads default -\/-\/scalapack-\/threads default -\/-\/data-\/format pencil-\/local -\/-\/init read-\/raw -\/-\/input hessenberg\_\%s.dat -\/-\/data-\/distr default -\/-\/section-\/height default -\/-\/section-\/width default -\/-\/solver starneig -\/-\/cores default -\/-\/gpus default -\/-\/iteration-\/limit default -\/-\/tile-\/size 128 -\/-\/small-\/limit default -\/-\/aed-\/window-\/size default -\/-\/aed-\/shift-\/count default -\/-\/aed-\/nibble default -\/-\/aed-\/parallel-\/soft-\/limit default -\/-\/aed-\/parallel-\/hard-\/limit default -\/-\/window-\/size default -\/-\/shifts-\/per-\/window default -\/-\/update-\/width default -\/-\/update-\/height default -\/-\/left-\/threshold default -\/-\/right-\/threshold default -\/-\/inf-\/threshold default -\/-\/hooks schur:normal eigenvalues:normal known-\/eigenvalues:normal analysis:normal residual:normal -\/-\/eigenvalues-\/fail-\/threshold 10000 -\/-\/eigenvalues-\/warn-\/threshold 1000 -\/-\/known-\/eigenvalues-\/fail-\/threshold 1000000 -\/-\/known-\/eigenvalues-\/warn-\/threshold 10000 -\/-\/residual-\/fail-\/threshold 10000 -\/-\/residual-\/warn-\/threshold 500 -\/-\/repeat 1 -\/-\/warmup 0}
\DoxyCodeLine{THREADS: Using 6 StarPU worker threads during initialization and validation.}
\DoxyCodeLine{THREADS: Using 6 BLAS threads during initialization and validation.}
\DoxyCodeLine{THREADS: Using 6 BLAS threads in LAPACK solvers.}
\DoxyCodeLine{THREADS: Using 1 BLAS threads in ScaLAPACK solvers.}
\DoxyCodeLine{INIT...}
\DoxyCodeLine{READING FROM hessenberg\_A.dat...}
\DoxyCodeLine{READING A 4000 X 4000 MATRIX ...}
\DoxyCodeLine{READING FROM hessenberg\_Q.dat...}
\DoxyCodeLine{READING A 4000 X 4000 MATRIX ...}
\DoxyCodeLine{READING FROM hessenberg\_CA.dat...}
\DoxyCodeLine{READING A 4000 X 4000 MATRIX ...}
\DoxyCodeLine{PREPARE...}
\DoxyCodeLine{PROCESS...}
\DoxyCodeLine{[starneig][message] Using AED windows size 320.}
\DoxyCodeLine{[starneig][message] Using 240 shifts.}
\DoxyCodeLine{EXPERIMENT TIME = 9479 MS}
\DoxyCodeLine{FINALIZE...}
\DoxyCodeLine{EIGENVALUES CHECK: mean = 0 u, min = 0 u, max = 0 u}
\DoxyCodeLine{KNOWN EIGENVALUES CHECK: The stored pencil does not contain the known eigenvalues. Skipping.}
\DoxyCodeLine{EIGENVALUES ANALYSIS: zeros = 0, infinities = 0, indefinites = 0}
\DoxyCodeLine{EIGENVALUES ANALYSIS: close zeros = 0, close infinities = 0, close indefinites = 0}
\DoxyCodeLine{|Q \string~A Q\string^T -\/ A| / |A| = 68 u}
\DoxyCodeLine{|Q Q\string^T -\/ I| / |I| = 89 u}
\DoxyCodeLine{================================================================}
\DoxyCodeLine{TIME = 9479 MS [avg 9479 MS, cv 0.00, min 9479 MS, max 9479 MS]}
\DoxyCodeLine{NO FAILED SCHUR FORM TESTS}
\DoxyCodeLine{EIGENVALUES CHECK (WARNINGS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES CHECK (FAILS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES CHECK (MEANS): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{EIGENVALUES CHECK (MIN): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{EIGENVALUES CHECK (MAX): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (ZEROS): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (CLOSE ZEROS): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (INFINITIES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (CLOSE INFINITIES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (INDEFINITES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (CLOSE INDEFINITES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{|Q \string~A Q\string^T -\/ A| / |A| = [avg 68 u, cv 0.00, min 68 u, max 68 u]}
\DoxyCodeLine{|Q Q\string^T -\/ I| / |I| = [avg 89 u, cv 0.00, min 89 u, max 89 u]}
\end{DoxyCode}


\doxysection*{Distributed memory example}


\begin{DoxyItemize}
\item Reorder a 4000 x 4000 matrix using the Star\+N\+Eig implementation, use two M\+PI ranks, use three C\+PU cores per rank, distribute the matrix in 1024 x 1024 sections, and use tile size 256\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{\$ mpirun -\/n 2 -\/-\/map-\/by :PE=3 ./starneig-\/test -\/-\/mpi -\/-\/experiment reorder -\/-\/n 4000 -\/-\/section-\/height 1024 -\/-\/section-\/width 1024 -\/-\/tile-\/size 256}
\end{DoxyCode}


Rank 0 output\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{MPI INIT...}
\DoxyCodeLine{TEST: -\/-\/mpi -\/-\/mpi-\/mode serialized -\/-\/seed 1585763077 -\/-\/experiment reorder -\/-\/test-\/workers default -\/-\/blas-\/threads default -\/-\/lapack-\/threads default -\/-\/scalapack-\/threads default -\/-\/data-\/format pencil-\/starneig-\/blacs -\/-\/init default -\/-\/n 4000 -\/-\/complex-\/distr uniform -\/-\/complex-\/ratio 0.500000 -\/-\/zero-\/ratio 0.010000 -\/-\/inf-\/ratio 0.010000 -\/-\/data-\/distr default -\/-\/section-\/height 1024 -\/-\/section-\/width 1024 -\/-\/select-\/ratio 0.350000 -\/-\/solver starneig -\/-\/cores default -\/-\/gpus default -\/-\/tile-\/size 256 -\/-\/window-\/size default -\/-\/values-\/per-\/chain default -\/-\/small-\/window-\/size default -\/-\/small-\/window-\/threshold default -\/-\/update-\/width default -\/-\/update-\/height default -\/-\/plan default -\/-\/blueprint default -\/-\/hooks schur:normal eigenvalues:normal analysis:normal reordering:normal residual:normal -\/-\/eigenvalues-\/fail-\/threshold 10000 -\/-\/eigenvalues-\/warn-\/threshold 1000 -\/-\/reordering-\/fail-\/threshold 10000 -\/-\/reordering-\/warn-\/threshold 1000 -\/-\/residual-\/fail-\/threshold 10000 -\/-\/residual-\/warn-\/threshold 500 -\/-\/repeat 1 -\/-\/warmup 0}
\DoxyCodeLine{THREADS: Using 3 StarPU worker threads during initialization and validation.}
\DoxyCodeLine{THREADS: Using 3 BLAS threads during initialization and validation.}
\DoxyCodeLine{THREADS: Using 3 BLAS threads in LAPACK solvers.}
\DoxyCodeLine{THREADS: Using 1 BLAS threads in ScaLAPACK solvers.}
\DoxyCodeLine{INIT...}
\DoxyCodeLine{PREPARE...}
\DoxyCodeLine{PROCESS...}
\DoxyCodeLine{[starneig][message] Attempting to set tile size to 256.}
\DoxyCodeLine{[starneig][message] Setting tile size to 256.}
\DoxyCodeLine{[starneig][message] Using multi-\/part task insertion plan.}
\DoxyCodeLine{[starneig][message] Using two-\/pass backward dummy blueprint.}
\DoxyCodeLine{[starneig][message] Using "rounded" window size.}
\DoxyCodeLine{EXPERIMENT TIME = 3320 MS}
\DoxyCodeLine{FINALIZE...}
\DoxyCodeLine{EIGENVALUES CHECK: mean = 0 u, min = 0 u, max = 0 u}
\DoxyCodeLine{EIGENVALUES ANALYSIS: zeros = 37, infinities = 0, indefinites = 0}
\DoxyCodeLine{EIGENVALUES ANALYSIS: close zeros = 0, close infinities = 0, close indefinites = 0}
\DoxyCodeLine{REORDERING CHECK: Checking selected eigenvalues...}
\DoxyCodeLine{REORDERING CHECK: Checking other eigenvalues...}
\DoxyCodeLine{REORDERING CHECK: mean = 70 u, min = 0 u, max = 527 u}
\DoxyCodeLine{|Q \string~A Q\string^T -\/ A| / |A| = 314 u}
\DoxyCodeLine{|Q Q\string^T -\/ I| / |I| = 139 u}
\DoxyCodeLine{================================================================}
\DoxyCodeLine{TIME = 3319 MS [avg 3320 MS, cv 0.00, min 3320 MS, max 3320 MS]}
\DoxyCodeLine{NO FAILED SCHUR FORM TESTS}
\DoxyCodeLine{EIGENVALUES CHECK (WARNINGS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES CHECK (FAILS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES CHECK (MEANS): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{EIGENVALUES CHECK (MIN): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{EIGENVALUES CHECK (MAX): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (ZEROS): [avg 37.0, cv 0.00, min 37, max 37]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (CLOSE ZEROS): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (INFINITIES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (CLOSE INFINITIES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (INDEFINITES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (CLOSE INDEFINITES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{REORDERING CHECK (WARNINGS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{REORDERING CHECK (FAILS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{REORDERING CHECK (MEANS): [avg 70 u, cv 0.00, min 70 u, max 70 u]}
\DoxyCodeLine{REORDERING CHECK (MIN): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{REORDERING CHECK (MAX): [avg 527 u, cv 0.00, min 527 u, max 527 u]}
\DoxyCodeLine{|Q \string~A Q\string^T -\/ A| / |A| = [avg 314 u, cv 0.00, min 314 u, max 314 u]}
\DoxyCodeLine{|Q Q\string^T -\/ I| / |I| = [avg 139 u, cv 0.00, min 139 u, max 139 u]}
\end{DoxyCode}


Rank 1 output\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{MPI INIT...}
\DoxyCodeLine{TEST: -\/-\/mpi -\/-\/mpi-\/mode serialized -\/-\/seed 1585763077 -\/-\/experiment reorder -\/-\/test-\/workers default -\/-\/blas-\/threads default -\/-\/lapack-\/threads default -\/-\/scalapack-\/threads default -\/-\/data-\/format pencil-\/starneig-\/blacs -\/-\/init default -\/-\/n 4000 -\/-\/complex-\/distr uniform -\/-\/complex-\/ratio 0.500000 -\/-\/zero-\/ratio 0.010000 -\/-\/inf-\/ratio 0.010000 -\/-\/data-\/distr default -\/-\/section-\/height 1024 -\/-\/section-\/width 1024 -\/-\/select-\/ratio 0.350000 -\/-\/solver starneig -\/-\/cores default -\/-\/gpus default -\/-\/tile-\/size 256 -\/-\/window-\/size default -\/-\/values-\/per-\/chain default -\/-\/small-\/window-\/size default -\/-\/small-\/window-\/threshold default -\/-\/update-\/width default -\/-\/update-\/height default -\/-\/plan default -\/-\/blueprint default -\/-\/hooks schur:normal eigenvalues:normal analysis:normal reordering:normal residual:normal -\/-\/eigenvalues-\/fail-\/threshold 10000 -\/-\/eigenvalues-\/warn-\/threshold 1000 -\/-\/reordering-\/fail-\/threshold 10000 -\/-\/reordering-\/warn-\/threshold 1000 -\/-\/residual-\/fail-\/threshold 10000 -\/-\/residual-\/warn-\/threshold 500 -\/-\/repeat 1 -\/-\/warmup 0}
\DoxyCodeLine{THREADS: Using 3 StarPU worker threads during initialization and validation.}
\DoxyCodeLine{THREADS: Using 3 BLAS threads during initialization and validation.}
\DoxyCodeLine{THREADS: Using 3 BLAS threads in LAPACK solvers.}
\DoxyCodeLine{THREADS: Using 1 BLAS threads in ScaLAPACK solvers.}
\DoxyCodeLine{INIT...}
\DoxyCodeLine{PREPARE...}
\DoxyCodeLine{PROCESS...}
\DoxyCodeLine{[starneig][message] Attempting to set tile size to 256.}
\DoxyCodeLine{[starneig][message] Setting tile size to 256.}
\DoxyCodeLine{[starneig][message] Using multi-\/part task insertion plan.}
\DoxyCodeLine{[starneig][message] Using two-\/pass backward dummy blueprint.}
\DoxyCodeLine{[starneig][message] Using "rounded" window size.}
\DoxyCodeLine{EXPERIMENT TIME = 3320 MS}
\DoxyCodeLine{FINALIZE...}
\DoxyCodeLine{EIGENVALUES CHECK: mean = 0 u, min = 0 u, max = 0 u}
\DoxyCodeLine{EIGENVALUES ANALYSIS: zeros = 37, infinities = 0, indefinites = 0}
\DoxyCodeLine{EIGENVALUES ANALYSIS: close zeros = 0, close infinities = 0, close indefinites = 0}
\DoxyCodeLine{REORDERING CHECK: Checking selected eigenvalues...}
\DoxyCodeLine{REORDERING CHECK: Checking other eigenvalues...}
\DoxyCodeLine{REORDERING CHECK: mean = 70 u, min = 0 u, max = 527 u}
\DoxyCodeLine{|Q \string~A Q\string^T -\/ A| / |A| = 314 u}
\DoxyCodeLine{|Q Q\string^T -\/ I| / |I| = 139 u}
\DoxyCodeLine{================================================================}
\DoxyCodeLine{TIME = 3319 MS [avg 3320 MS, cv 0.00, min 3320 MS, max 3320 MS]}
\DoxyCodeLine{NO FAILED SCHUR FORM TESTS}
\DoxyCodeLine{EIGENVALUES CHECK (WARNINGS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES CHECK (FAILS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES CHECK (MEANS): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{EIGENVALUES CHECK (MIN): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{EIGENVALUES CHECK (MAX): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (ZEROS): [avg 37.0, cv 0.00, min 37, max 37]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (CLOSE ZEROS): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (INFINITIES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (CLOSE INFINITIES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (INDEFINITES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{EIGENVALUES ANALYSIS (CLOSE INDEFINITES): [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{REORDERING CHECK (WARNINGS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{REORDERING CHECK (FAILS): 0 runs effected [avg 0.0, cv 0.00, min 0, max 0]}
\DoxyCodeLine{REORDERING CHECK (MEANS): [avg 70 u, cv 0.00, min 70 u, max 70 u]}
\DoxyCodeLine{REORDERING CHECK (MIN): [avg 0 u, cv 0.00, min 0 u, max 0 u]}
\DoxyCodeLine{REORDERING CHECK (MAX): [avg 527 u, cv 0.00, min 527 u, max 527 u]}
\DoxyCodeLine{|Q \string~A Q\string^T -\/ A| / |A| = [avg 314 u, cv 0.00, min 314 u, max 314 u]}
\DoxyCodeLine{|Q Q\string^T -\/ I| / |I| = [avg 139 u, cv 0.00, min 139 u, max 139 u]}
\end{DoxyCode}
 