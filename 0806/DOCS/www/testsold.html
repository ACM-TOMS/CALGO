
<html><head>
<title>
  SPRNG: Scalable Parallel Pseudo-Random Number Generator Library
</title>
</head>


<body bgcolor="#ffffff" alink="#CC3300" vlink="#666666"
link="#006666">

 
<H1><A HREF="users-guide.html">User's Guide:</A>Testing</H1> 
Next:<A HREF = "test-results.html">Test Results</A> 
Previous:<A HREF="newgen.html">Creating New SPRNG Generators</A> 
<P> 
<HR> 
<P> 
<BLOCKQUOTE> 
 
<H1 ALIGN=CENTER>  Tests </H1> 
 
<P> 
The random number generators provided in SPRNG are expected to be used in large-scale 
Monte Carlo simulations, and so we need to ensure that they are of high <A 
HREF="definitions.html#quality"><EM>quality</EM></A> by theoretical 
analyses and empirical tests.  
<P> 
 
<H2>Theoretical Analyses</H2> 
Pseudorandom number sequences depend on a finite number of <A 
HREF="definitions.html#state"><EM>states</EM></A>, and so  they have a 
finite period after which the random number sequence repeats. Clearly, 
it is important that the sequences have a much larger period than the 
length of the sequence that will be used. Usually the period of the 
generators can be determined theoretically. The period of the <A 
HREF="generators.html#lcg48">48 bit Linear Congruential Generator with 
prime addend</A> is <SAMP>2<SUP>48</SUP></SAMP>, that of the <A 
HREF="generators.html#lcg64">64 bit Linear Congruential Generator with 
prime addend</A> is <SAMP>2<SUP>64</SUP></SAMP>, and that of the <A 
HREF="generators.html#lfg">modified Lagged Fibonacci Generator</A> is 
<SAMP>2<SUP>31</SUP>(2<SUP>l</SUP>-1)</SAMP> where <VAR>l</VAR> is the lag. For the 
default generator with lag <SAMP>l = 1279</SAMP>, the period is 
approximately <SAMP>2<SUP>1310</SUP></SAMP>. 
 
<P> 
In a 
parallel random number generator, we need to ensure that are is no 
correlation between different random 
number streams. For example, it should not so happen that most of the 
random numbers streams generate high random numbers in similar 
positions in the sequence. There are some theoretical analyses that discuss 
the <A HREF="definitions.html#independence"><EM>independence</EM></A>  
of streams, as described in papers by <A 
HREF="refs.html#percus">Percus and Kalos</A> and <A 
HREF="refs.html#pryor">Mascagni, et al</A>. The generators 
currently available in SPRNG satisfy the recommendations based on 
these theoretical tests.  
<P> 
 
<H2>Empirical Tests</H2> 
<P ALIGN=CENTER> 
<STRONG>Summary of test results</STRONG> 
<P ALIGN=CENTER> 
The number of random numbers generated in the tests are given 
below. 
<P ALIGN=CENTER> 
<TABLE BORDER=10 VALIGN ALIGN=CENTER> 
 
<TR ALIGN=CENTER VALIGN=MIDDLE> 
<TD>  </TD> 
<TH COLSPAN=2 WIDTH=100>Sequential</TH> 
<TH COLSPAN=2 WIDTH=100>Parallel</TH> 
</TR> 
 
<TR ALIGN=CENTER VALIGN=MIDDLE> 
<TD HEIGHT=25><EM>Test</EM></TD> 
<TH><A HREF="generators.html#lcg48">48 bit LCG</A> </TH> 
<TH><A HREF="generators.html#lfg">LFG</A> </TH> 
<TH><A HREF="generators.html#lcg48">48 bit LCG</A> </TH> 
<TH><A HREF="generators.html#lfg">LFG</A> </TH> 
</TR> 
 
<TR ALIGN=CENTER VALIGN=MIDDLE> 
</TR> 
 
<TR ALIGN=CENTER VALIGN=MIDDLE> 
<TH><A HREF="test-suite.html#collisions">Collisions</A></TH> 
<TD>10<SUP>8</SUP></TD> 
<TD>10<SUP>8</SUP></TD> 
<TD>10<SUP>8</SUP></TD> 
<TD>10<SUP>8</SUP></TD> 
</TR> 
 
<TR ALIGN=CENTER VALIGN=MIDDLE> 
<TH><A HREF="test-suite.html#coupon">Coupon</A></TH> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>10</SUP></TD> 
<TD>10<SUP>10</SUP></TD> 
</TR> 
 
<TR ALIGN=CENTER VALIGN=MIDDLE> 
<TH><A HREF="test-suite.html#equidist">Equidistribution</A></TH> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>11</SUP></TD> 
<TD COLSPAN=2><EM>Not needed</EM></TD> 
</TR> 
 
<TR ALIGN=CENTER VALIGN=MIDDLE> 
<TH><A HREF="test-suite.html#gap">Gap</A></TH> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>12</SUP></TD> 
<TD>10<SUP>12</SUP></TD> 
</TR> 
 
<TR ALIGN=CENTER VALIGN=MIDDLE> 
<TH><A HREF="test-suite.html#maxt">Maximum of t</A></TH> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>10</SUP></TD> 
<TD>10<SUP>10</SUP></TD> 
</TR> 
 
<TR ALIGN=CENTER VALIGN=MIDDLE> 
<TH><A HREF="test-suite.html#perm">Permutations</A></TH> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>10</SUP></TD> 
<TD>10<SUP>10</SUP></TD> 
</TR> 
 
<TR ALIGN=CENTER VALIGN=MIDDLE> 
<TH><A HREF="test-suite.html#poker">Poker</A></TH> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>10</SUP></TD> 
<TD>10<SUP>10</SUP></TD> 
</TR> 
 
<TR ALIGN=CENTER VALIGN=MIDDLE> 
<TH><A HREF="test-suite.html#runsup">Runs up</A></TH> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>12</SUP></TD> 
<TD>10<SUP>12</SUP></TD> 
</TR> 
 
<TR ALIGN=CENTER VALIGN=MIDDLE> 
<TH><A HREF="test-suite.html#serial">Serial</A></TH> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>10</SUP></TD> 
<TD>10<SUP>10</SUP></TD> 
</TR> 
 
<TR ALIGN=CENTER VALIGN=MIDDLE> 
<TH><A HREF="test-suite.html#sum">Sum of distributions</A></TH> 
<TD COLSPAN=2><EM>Not needed</EM></TD> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>11</SUP></TD> 
</TR> 
 
<TR ALIGN=CENTER VALIGN=MIDDLE> 
<TH><A HREF="physical-model-tests.html#ising">Ising: Metropolis</A></TH> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>11</SUP></TD> 
</TR> 
 
<TR ALIGN=CENTER VALIGN=MIDDLE> 
<TH><A HREF="physical-model-tests.html#ising">Ising: Wolff</A></TH> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>11</SUP></TD> 
<TD>10<SUP>11</SUP></TD> 
</TR> 
 
<TR ALIGN=CENTER VALIGN=MIDDLE> 
<TH><A HREF="physical-model-tests.html#random-walk">Random Walk</A></TH> 
<TD>10<SUP>8</SUP></TD> 
<TD>10<SUP>8</SUP></TD> 
<TD>10<SUP>8</SUP> </TD> 
<TD>10<SUP>8</SUP> </TD> 
</TR> 
 
 
</TABLE> 
 
<P> 
The empirical tests can be 
grouped into two general categories as described below: 
 
<P> 
<DL> 
<A NAME="standard-tests"></A> 
<DT><H3><A HREF="statistical-tests.html">Statistical Tests</A></H3> 
<P>  
<DD>A single <A HREF="definitions.html#stream"><EM>stream</EM></A> of 
parallel random numbers should pass all the tests applicable to a 
serial stream. We shall discuss this issue first.  
The basic 
idea behind these tests of randomness is that the random number 
streams obtained from a generator should have the properties of a 
sample drawn from a uniform distribution. Tests are designed so that 
the expected value of some test statistic is known for the uniform 
distribution. The empirically generated random number stream  is 
then subjected to the same test, and the statistic obtained is compared 
against the expected value. While a boundless number of tests can be 
constructed, certain tests have become popular and are accepted as the 
 
de facto standard. Generators that pass such tests are considered 
"good". The series of tests proposed by <A 
HREF="refs.html#knuth">Knuth</A> and the <A 
HREF="refs.html#diehard">DIEHARD</A> tests implemented by 
Marsaglia are practically considered the standard tests.  
<P> 
These tests check a random number stream for the uniformity of the 
stream and for correlations between numbers in the stream. In a 
parallel random number generator, we include the additional 
restriction that there should not be correlations between different random 
number streams. For example, it should not so happen that most of the 
random numbers streams generate high random numbers in similar 
positions. We wish to test our generators 
empirically, in addition to the theoretical analyses mentioned above. The tests we have conducted are modifications of the 
ideas for serial streams. If we interleave two streams such that the 
new stream generated has alternate numbers from the same stream, then 
this new stream should pass the tests for a serial random number 
stream if the original streams were not correlated. We perform such tests on 
several pairs of streams and observe whether the test statistics are 
acceptable. We can generalize this scheme to interleaving several 
random number streams at a time. 
 
<P> 
<A NAME="physical-model-tests"></A> 
<DT><H3><A HREF="physical-model-tests.html">Physical Model Tests</A></H3> 
<P>  
<DD>Random number generators that pass the statistical tests mentioned 
above do not always perform well in large-scale Monte Carlo 
simulations. It is best to test the random number generator in an application 
similar to where it will be used. We have subjected our generators to 
ISING model tests and random walk tests. The exact solution for these 
tests are known, and the tests also have the structure of practical 
applications. Thus they are good measures of the quality of the 
generators. We hope that our results will give the computational 
scientist a measure of the expected biases in the simulation. 
 
<P> 
We have performed these physical model tests using both, single 
streams and multiple streams in the simulation. The latter tests probe 
for correlations between streams. 
 
</DL> 
 
 
<P> 
 
<P> 
</BLOCKQUOTE> 
<HR> 
<CENTER> 
<TABLE WIDTH=400 ALIGN=CENTER COL=5 CELLSPACING =0 BORDER=0 > 
<TR><TD><A HREF="quick-start.html"><IMG SRC="qs.gif" BORDER=0 ALT="[Quick 
Start]"></A></TD> 
<TD><A HREF="users-guide.html"><IMG SRC="us.gif" BORDER=0 ALT="[User's 
Guide]"></A></TD> 
<TD><A HREF="reference.html"><IMG SRC="ref.gif" BORDER=0 ALT="[Reference 
Manual]"></A></TD> 
<TD><A HREF="quick-reference.html"><IMG SRC="qr.gif" BORDER=0 ALT="[Quick 
Reference]"></A></TD> 
<TD><A HREF="test-results.html"><IMG SRC="next.gif" BORDER=0 ALT="[Next: 
Test Results]"></A></TD></TR></TABLE> 
</CENTER> 
 
<HR> 
<p>

</body></html>
